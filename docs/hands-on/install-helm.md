# 5.1 Helmìœ¼ë¡œ KubeRay ì„¤ì¹˜

KubeRayëŠ” Ray í´ëŸ¬ìŠ¤í„°ë¥¼ ì¿ ë²„ë„¤í‹°ìŠ¤ ìƒì—ì„œ ìš´ì˜í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” Operator ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤. Helmì„ í†µí•´ ê°„ë‹¨í•˜ê³  ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìˆìœ¼ë©°, ì´ ë¬¸ì„œì—ì„œëŠ” Helmì„ í™œìš©í•´ `kuberay-operator`ë¥¼ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ì„ ë‹¨ê³„ë³„ë¡œ ì•ˆë‚´í•©ë‹ˆë‹¤.

---

## âœ… ì „ì œ ì¡°ê±´

KubeRayë¥¼ ì„¤ì¹˜í•˜ê¸° ì „ì— ë‹¤ìŒ í™˜ê²½ì´ êµ¬ì„±ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤:

- ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° (v1.21 ì´ìƒ ê¶Œì¥)
- Helm 3.x ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•¨
- `kubectl` CLI ì‚¬ìš© ê°€ëŠ¥
- í´ëŸ¬ìŠ¤í„°ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” kubeconfig ì„¤ì • ì™„ë£Œ

---

## ğŸ”§ Helm ì„¤ì¹˜ (í•„ìš” ì‹œ)

macOS í™˜ê²½ì—ì„œëŠ” Homebrewë¥¼ í†µí•´ Helmì„ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
brew install helm
```

ì„¤ì¹˜ í™•ì¸:

```bash
helm version
```

---

## ğŸ“¦ KubeRay Helm ì°¨íŠ¸ ì¶”ê°€

KubeRayì˜ ê³µì‹ Helm ì°¨íŠ¸ë¥¼ Helm ì €ì¥ì†Œì— ì¶”ê°€í•©ë‹ˆë‹¤.

```bash
helm repo add kuberay https://ray-project.github.io/kuberay-helm/
helm repo update
```

---

## ğŸš€ KubeRay ì„¤ì¹˜

`kuberay-operator`ëŠ” RayClusterì™€ RayJob ë“± CRD(Custom Resource)ë¥¼ ê´€ë¦¬í•˜ëŠ” í•µì‹¬ êµ¬ì„± ìš”ì†Œì…ë‹ˆë‹¤. ì•„ë˜ ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜í•©ë‹ˆë‹¤:

```bash
helm install kuberay kuberay/kuberay-operator
```

Namespaceë¥¼ ë”°ë¡œ ì§€ì •í•˜ê³  ì‹¶ë‹¤ë©´:

```bash
helm install kuberay kuberay/kuberay-operator -n ray-system --create-namespace
```

---

## ğŸ” ì„¤ì¹˜ í™•ì¸

ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ Operatorê°€ ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤:

```bash
kubectl get pods -n ray-system
```

`kuberay-operator` Podê°€ `Running` ìƒíƒœì—¬ì•¼ í•©ë‹ˆë‹¤.

```bash
â”Œ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€\â”€  pods(kuberay-test)[1] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ NAMEâ†‘                                       PF          READY          STATUS                       RESTARTS           CPU           MEM           %CPU/R           %CPU/L           %MEM/R           %MEM/L IP                    NODE                     AGE
â”‚ kuberay-operator-5d6b954f9d-2xwfj           â—           1/1            Running                             0             2            28                2                2                5                5 10.42.3.85            k3s-worker-02            3d1h
```

---

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

- CRDê°€ ì„¤ì¹˜ë˜ì§€ ì•Šì€ ê²½ìš°:

  ```bash
  kubectl get crd | grep ray
  ```

  ìœ„ ëª…ë ¹ì—ì„œ ì•„ë¬´ ê²ƒë„ ì¶œë ¥ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ Helm ì„¤ì¹˜ê°€ ì‹¤íŒ¨í–ˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- Operator Podê°€ CrashLoopBackOff ìƒíƒœë¼ë©´, ë¡œê·¸ í™•ì¸:

  ```bash
  kubectl logs -n ray-system deploy/kuberay-operator
  ```

- ì´ë¯¸ ì„¤ì¹˜ëœ ê²½ìš°:

  ```bash
  helm upgrade --install kuberay kuberay/kuberay-operator
  ```

---

ì´ì œ Ray í´ëŸ¬ìŠ¤í„°ë¥¼ ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì—ì„œ ìƒì„±í•  ì¤€ë¹„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ë‹¨ê³„ì—ì„œëŠ” RayCluster ë¦¬ì†ŒìŠ¤ë¥¼ ì •ì˜í•˜ê³  ë°°í¬í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.
