{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"KubeRay Guide\uc5d0 \uc624\uc2e0 \uac83\uc744 \ud658\uc601\ud569\ub2c8\ub2e4 \ud83d\udc4b","text":"<p>\uc774 \ubb38\uc11c\ub294 Ray\uc640 KubeRay\uc5d0 \ub300\ud55c \uc2e4\uc6a9\uc801\uc778 \ud559\uc2b5\uc744 \uc704\ud55c \uac00\uc774\ub4dc\uc785\ub2c8\ub2e4. Ray\ub294 \ubd84\uc0b0 \ucef4\ud4e8\ud305\uc744 \uc190\uc27d\uac8c \uad6c\ud604\ud560 \uc218 \uc788\ub3c4\ub85d \ub3c4\uc640\uc8fc\ub294 \ud504\ub808\uc784\uc6cc\ud06c\uc774\uba70, KubeRay\ub294 Kubernetes \ud658\uacbd\uc5d0\uc11c Ray \ud074\ub7ec\uc2a4\ud130\ub97c \uc27d\uac8c \uad00\ub9ac\ud560 \uc218 \uc788\ub3c4\ub85d \ub3c4\uc640\uc8fc\ub294 \uc624\ud37c\ub808\uc774\ud130\uc785\ub2c8\ub2e4.</p> <p>\ucd08\ubcf4\uc790\ub3c4 \uc774\ud574\ud560 \uc218 \uc788\ub3c4\ub85d \uc26c\uc6b4 \uc6a9\uc5b4\ub97c \uc0ac\uc6a9\ud558\uace0, \uc2e4\uc2b5\uc744 \ud1b5\ud574 Ray\uc758 \uac1c\ub150\uacfc \uad6c\uc870, \ud65c\uc6a9\ubc95\uc744 \ub2e8\uacc4\ubcc4\ub85c \ubc30\uc6cc\uac08 \uc218 \uc788\ub3c4\ub85d \uad6c\uc131\ud588\uc2b5\ub2c8\ub2e4.</p>"},{"location":"#_1","title":"\uc774 \ubb38\uc11c\uc5d0\uc11c \ub2e4\ub8e8\ub294 \ub0b4\uc6a9","text":"<ul> <li>1. \uc11c\ub860: Ray\uac00 \uc65c \ud544\uc694\ud55c\uc9c0, \uc774 \ubb38\uc11c\ub97c \uc5b4\ub5bb\uac8c \ud65c\uc6a9\ud560 \uc218 \uc788\ub294\uc9c0\ub97c \uc18c\uac1c\ud569\ub2c8\ub2e4.</li> <li>2. Ray \uae30\ucd08 \ub2e4\uc9c0\uae30: Ray\uc758 \uc544\ud0a4\ud14d\ucc98, \ubd84\uc0b0 \ucc98\ub9ac \uac1c\ub150, \ud575\uc2ec \ub7f0\ud0c0\uc784 \uad6c\uc131\uc694\uc18c\ub97c \uc124\uba85\ud569\ub2c8\ub2e4.</li> <li>3. Ray Service \ud328\ubc00\ub9ac \uc774\ud574: Ray Cluster, Serve, Job, Workflow/Data\uc5d0 \ub300\ud574 \uc2e4\uc804 \uc911\uc2ec\uc73c\ub85c \uc774\ud574\ud569\ub2c8\ub2e4.</li> <li>4. KubeRay\ub85c \uc62e\uaca8\uc624\uae30: Ray\ub97c Kubernetes \ud658\uacbd\uc5d0\uc11c \uc6b4\uc601\ud558\uae30 \uc704\ud55c KubeRay\uc758 \uad6c\uc870\uc640 \uc0ac\uc6a9\ubc95\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</li> <li>5. Hands-on \uc2e4\uc2b5: Helm \uc124\uce58\ubd80\ud130 \uc2e4\uc81c RayService/RayJob \uad6c\uc131\uae4c\uc9c0 \ub530\ub77c\ud558\uba70 \uc2e4\uc2b5\ud569\ub2c8\ub2e4.</li> <li>6. \uc6b4\uc601 &amp; \ubaa8\ub2c8\ud130\ub9c1_(\uc791\uc131 \uc608\uc815): Ray \ub300\uc2dc\ubcf4\ub4dc, \ubaa8\ub2c8\ud130\ub9c1, \uc7a5\uc560 \ub300\uc751 \ub4f1 \uc2e4\ubb34 \uc911\uc2ec \ub0b4\uc6a9\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</li> <li>7. \uc2ec\ud654 \uc8fc\uc81c_(\uc791\uc131 \uc608\uc815): \uba40\ud2f0\ud14c\ub10c\uc2dc, GPU \uc6cc\ud06c\ub85c\ub4dc, CI/CD, \uc18c\uc2a4\ucf54\ub4dc \ubd84\uc11d \ub4f1 \uace0\uae09 \uc8fc\uc81c\ub97c \uc18c\uac1c\ud569\ub2c8\ub2e4.</li> <li>8. \uacb0\ub860 \ubc0f \ub2e4\uc74c \ub2e8\uacc4_(\uc791\uc131 \uc608\uc815): \ud559\uc2b5 \ub85c\ub4dc\ub9f5\uacfc \ucee4\ubba4\ub2c8\ud2f0\u00b7\ub808\ud37c\ub7f0\uc2a4\ub97c \uc548\ub0b4\ud569\ub2c8\ub2e4.</li> </ul> <p>\uc774 \ubb38\uc11c\ub294 Ray\ub97c \uae30\ubc18\uc73c\ub85c \ud55c \ubd84\uc0b0 \ud658\uacbd \uad6c\ucd95 \ubc0f \uc6b4\uc601\uc744 \ubc30\uc6b0\uace0 \uc2f6\uc740 \ubaa8\ub4e0 \ubd84\ub4e4\uc744 \uc704\ud55c \uc548\ub0b4\uc11c\uc785\ub2c8\ub2e4.</p>"},{"location":"fundamentals/architecture-overview/","title":"2.1 Ray \uc544\ud0a4\ud14d\ucc98 \ud55c\ub208\uc5d0 \ubcf4\uae30","text":"<p>Ray\ub294 \ubd84\uc0b0 \ucef4\ud4e8\ud305\uc744 \ub2e8\uc21c\ud654\ud558\uae30 \uc704\ud574 \uc124\uacc4\ub41c \ubc94\uc6a9 \ud504\ub808\uc784\uc6cc\ud06c\ub85c, \uba38\uc2e0\ub7ec\ub2dd, \ub370\uc774\ud130 \ucc98\ub9ac, \uc11c\ube59 \ub4f1 \ub2e4\uc591\ud55c \uc6cc\ud06c\ub85c\ub4dc\ub97c \uc720\uc5f0\ud558\uac8c \ud655\uc7a5\ud560 \uc218 \uc788\ub3c4\ub85d \uad6c\uc131\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uc7a5\uc5d0\uc11c\ub294 Ray\uc758 \ud575\uc2ec \uc544\ud0a4\ud14d\ucc98\ub97c \uc804\uccb4\uc801\uc73c\ub85c \uc870\ub9dd\ud558\uba70, \uc8fc\uc694 \uad6c\uc131 \uc694\uc18c\ub4e4\uc758 \uc5ed\ud560\uacfc \uc0c1\ud638\uc791\uc6a9\uc744 \uc124\uba85\ud569\ub2c8\ub2e4.</p>"},{"location":"fundamentals/architecture-overview/#_1","title":"\uac1c\uc694","text":"<p>Ray \uc544\ud0a4\ud14d\ucc98\ub294 \ud06c\uac8c Head Node, Worker Node, \uadf8\ub9ac\uace0 \uadf8 \uc704\uc5d0\uc11c \ub3d9\uc791\ud558\ub294 Core Component\ub85c \ub098\ub258\uba70, \uc0ac\uc6a9\uc790 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc740 Task, Actor, Serve \ub4f1\uc758 \ud615\ud0dc\ub85c \uc2e4\ud589\ub429\ub2c8\ub2e4. \uc774\ub7ec\ud55c \uad6c\uc870\ub294 \uc218\ud3c9 \ud655\uc7a5\uc131(Scalability)\uacfc \uc720\uc9c0\ubcf4\uc218\uc131(Modularity)\uc744 \ub3d9\uc2dc\uc5d0 \uace0\ub824\ud55c \uc124\uacc4\uc785\ub2c8\ub2e4.</p>"},{"location":"fundamentals/architecture-overview/#_2","title":"\uc8fc\uc694 \ucef4\ud3ec\ub10c\ud2b8","text":""},{"location":"fundamentals/architecture-overview/#ray-head-node","title":"Ray Head Node","text":"<p>\ud074\ub7ec\uc2a4\ud130\uc758 \uc911\uc2ec\uc73c\ub85c \uc791\ub3d9\ud558\uba70, \uc2a4\ucf00\uc904\ub9c1, \uba54\ud0c0\ub370\uc774\ud130 \uad00\ub9ac, \ub300\uc2dc\ubcf4\ub4dc \uc81c\uacf5 \ub4f1\uc758 \ud575\uc2ec \uc5ed\ud560\uc744 \uc218\ud589\ud569\ub2c8\ub2e4.</p>"},{"location":"fundamentals/architecture-overview/#ray-worker-node","title":"Ray Worker Node","text":"<p>\uc2e4\uc9c8\uc801\uc778 \uc791\uc5c5\uc774 \uc218\ud589\ub418\ub294 \ub178\ub4dc\ub85c, Task\uc640 Actor\ub97c \uc2e4\ud589\ud558\ub294 \uc6cc\ucee4 \ud504\ub85c\uc138\uc2a4\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4.</p>"},{"location":"fundamentals/architecture-overview/#gcs-global-control-store","title":"GCS (Global Control Store)","text":"<p>\ud074\ub7ec\uc2a4\ud130 \uc804\ubc18\uc758 \uba54\ud0c0\ub370\uc774\ud130\ub97c \uad00\ub9ac\ud558\ub294 \uc911\uc559 \uc800\uc7a5\uc18c\ub85c, \uc77c\ubc18\uc801\uc73c\ub85c Redis\uc5d0 \uae30\ubc18\ud569\ub2c8\ub2e4. Actor, Task, Resource \uc0c1\ud0dc\ub97c \ucd94\uc801\ud569\ub2c8\ub2e4.</p>"},{"location":"fundamentals/architecture-overview/#raylet","title":"Raylet","text":"<p>\uac01 \ub178\ub4dc\uc5d0\uc11c \uc790\uc6d0 \uc2a4\ucf00\uc904\ub9c1\uacfc Task \ubd84\ubc30\ub97c \ub2f4\ub2f9\ud558\ub294 \ub85c\uceec \uc5d0\uc774\uc804\ud2b8 \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4.</p>"},{"location":"fundamentals/architecture-overview/#object-store","title":"Object Store","text":"<p>\ub178\ub4dc \uac04 \uacf5\uc720 \uba54\ubaa8\ub9ac \uc601\uc5ed\uc73c\ub85c, Task/Actor \uac04 \ub300\uaddc\ubaa8 \ub370\uc774\ud130 \uc804\ub2ec \uc2dc \ub124\ud2b8\uc6cc\ud06c \ubcd1\ubaa9\uc744 \uc904\uc774\ub294 \ud575\uc2ec \uad6c\uc131 \uc694\uc18c\uc785\ub2c8\ub2e4.</p>"},{"location":"fundamentals/architecture-overview/#dashboard","title":"Dashboard","text":"<p>\uc6f9 \uae30\ubc18\uc758 \uc2dc\uac01\ud654 \ub3c4\uad6c\ub85c, \ud074\ub7ec\uc2a4\ud130 \uc0c1\ud0dc, \uc790\uc6d0 \uc0ac\uc6a9\ub7c9, \uc2e4\ud589 \uc911\uc778 \uc6cc\ud06c\ub85c\ub4dc\ub97c \uc2e4\uc2dc\uac04\uc73c\ub85c \ubaa8\ub2c8\ud130\ub9c1\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"fundamentals/architecture-overview/#_3","title":"\uc544\ud0a4\ud14d\ucc98 \ub2e4\uc774\uc5b4\uadf8\ub7a8","text":"<pre><code>graph TD\n    subgraph Ray Cluster\n        Head[Ray Head Node]\n        Worker1[Worker Node 1]\n        Worker2[Worker Node 2]\n    end\n\n    subgraph Head Node \ub0b4\ubd80\n        GCS[(Global Control Store)]\n        Scheduler[Task Scheduler]\n        Dashboard[Web Dashboard]\n    end\n\n    subgraph Worker Node \ub0b4\ubd80\n        Raylet1[Raylet Agent]\n        ObjectStore1[Object Store]\n        TaskRunner1[Task/Actor Worker]\n    end\n\n    Head --&gt; GCS\n```mermaid\ngraph TD\n    subgraph Ray Cluster\n        Head[Ray Head Node]\n        Worker1[Worker Node 1]\n        Worker2[Worker Node 2]\n    end\n\n    subgraph Head Node \ub0b4\ubd80\n        GCS[(Global Control Store)]\n        Scheduler[Task Scheduler]\n        Dashboard[Web Dashboard]\n    end\n\n    subgraph Worker Node \ub0b4\ubd80\n        Raylet1[Raylet Agent]\n        ObjectStore1[Object Store]\n        TaskRunner1[Task/Actor Worker]\n    end\n\n    Head --&gt; GCS\n```mermaid\ngraph TD\n    subgraph Ray Cluster\n        Head[Ray Head Node]\n        Worker1[Worker Node 1]\n        Worker2[Worker Node 2]\n    end\n\n    subgraph Head Node \ub0b4\ubd80\n        GCS[(Global Control Store)]\n        Scheduler[Task Scheduler]\n        Dashboard[Web Dashboard]\n    end\n\n    subgraph Worker Node \ub0b4\ubd80\n        Raylet1[Raylet Agent]\n        ObjectStore1[Object Store]\n        TaskRunner1[Task/Actor Worker]\n    end\n\n    Head --&gt; GCS\n    Head --&gt; Dashboard\n    Head --&gt; Scheduler\n    Scheduler --&gt;|Distribute Task| Raylet1\n    Raylet1 --&gt; TaskRunner1\n    Raylet1 --&gt; ObjectStore1\n    GCS --&gt; Raylet1</code></pre>"},{"location":"fundamentals/concepts/","title":"2.2 \ubd84\uc0b0 \uac1c\ub150: Task vs Actor vs Placement Group","text":"<p>\ubd84\uc0b0 \uc2dc\uc2a4\ud15c\uc5d0\uc11c \uc791\uc5c5\uc744 \uc5b4\ub5bb\uac8c \ub098\ub204\uace0 \uc2e4\ud589\ud560\uc9c0 \uacb0\uc815\ud558\ub294 \ubc29\uc2dd\uc740 \ub9e4\uc6b0 \uc911\uc694\ud569\ub2c8\ub2e4. Ray\ub294 \uc774 \uacfc\uc815\uc744 \uc27d\uac8c \ucc98\ub9ac\ud560 \uc218 \uc788\ub3c4\ub85d Task, Actor, Placement Group\uc774\ub77c\ub294 \uac1c\ub150\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc774 \uc7a5\uc5d0\uc11c\ub294 \uac01 \uac1c\ub150\uc774 \uc5b4\ub5a4 \uc5ed\ud560\uc744 \ud558\uba70, \uc5b4\ub5a4 \uc0c1\ud669\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294\uc9c0 \uc54c\uc544\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p>"},{"location":"fundamentals/concepts/#task","title":"Task","text":"<p>Task\ub294 Ray\uc5d0\uc11c \uac00\uc7a5 \uae30\ubcf8\uc801\uc778 \uc791\uc5c5 \ub2e8\uc704\uc785\ub2c8\ub2e4. \ud558\ub098\uc758 \ud568\uc218\ub098 \uc5f0\uc0b0\uc744 \ubcd1\ub82c\ub85c \uc2e4\ud589\ud558\uace0 \uc2f6\uc744 \ub54c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, \uc774\ubbf8\uc9c0 100\uc7a5\uc744 \ub3d9\uc2dc\uc5d0 \ucc98\ub9ac\ud558\ub824\uba74 \uac01 \uc774\ubbf8\uc9c0\ub97c \ucc98\ub9ac\ud558\ub294 \ud568\uc218\ub97c Task\ub85c \ub9cc\ub4e4\uc5b4 \ubcd1\ub82c \uc2e4\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <ul> <li>\uc0c1\ud0dc\ub97c \uc800\uc7a5\ud558\uc9c0 \uc54a\uace0, \uc2e4\ud589 \ud6c4 \uacb0\uacfc\ub9cc \ubc18\ud658\ud569\ub2c8\ub2e4.</li> <li>\ubcd1\ub82c\uc131\uacfc \ud655\uc7a5\uc131\uc774 \ub9e4\uc6b0 \ub192\uc2b5\ub2c8\ub2e4.</li> <li>\uc2e4\ud589 \uc911 \uc0c1\ud0dc\ub97c \uae30\uc5b5\ud560 \ud544\uc694\uac00 \uc5c6\ub294 \uc791\uc5c5\uc5d0 \uc801\ud569\ud569\ub2c8\ub2e4.</li> </ul> <pre><code>@ray.remote\ndef process_image(img):\n    return some_processing(img)\n\nfutures = [process_image.remote(img) for img in image_list]\nresults = ray.get(futures)\n</code></pre>"},{"location":"fundamentals/concepts/#actor","title":"Actor","text":"<p>Actor\ub294 Task\uc640 \ub2ec\ub9ac \uc0c1\ud0dc\ub97c \uac16\ub294 \uac1d\uccb4\uc785\ub2c8\ub2e4. \uc989, \uc5ec\ub7ec \ubc88 \ud638\ucd9c\ub418\ub354\ub77c\ub3c4 \ub0b4\ubd80 \uc0c1\ud0dc\ub97c \uae30\uc5b5\ud569\ub2c8\ub2e4. \uc0c1\ud0dc \uae30\ubc18 \ucc98\ub9ac\uac00 \ud544\uc694\ud55c \uba38\uc2e0\ub7ec\ub2dd \ubaa8\ub378, \uac8c\uc784 \uc2dc\ubbac\ub808\uc774\uc158, \uc2a4\ud2b8\ub9ac\ubc0d \ucc98\ub9ac\ub97c \uad6c\ud604\ud560 \ub54c \uc720\uc6a9\ud569\ub2c8\ub2e4.</p> <ul> <li>\ud074\ub798\uc2a4 \uae30\ubc18\uc73c\ub85c \uc815\uc758\ud558\uba70, \uba54\uc11c\ub4dc\ub97c \uc6d0\uaca9\uc73c\ub85c \ud638\ucd9c\ud569\ub2c8\ub2e4.</li> <li>\uc0c1\ud0dc\ub97c \uc720\uc9c0\ud558\ubbc0\ub85c, \ubcf5\uc7a1\ud55c \ub85c\uc9c1\uacfc \uc7a5\uae30 \uc2e4\ud589\uc5d0 \uc801\ud569\ud569\ub2c8\ub2e4.</li> </ul> <pre><code>@ray.remote\nclass Counter:\n    def __init__(self):\n        self.count = 0\n\n    def increase(self):\n        self.count += 1\n        return self.count\n\ncounter = Counter.remote()\nprint(ray.get(counter.increase.remote()))  # \ucd9c\ub825: 1\n</code></pre>"},{"location":"fundamentals/concepts/#placement-group","title":"Placement Group","text":"<p>Placement Group\uc740 \uc5ec\ub7ec Task\ub098 Actor\ub97c \ud2b9\uc815 \uc790\uc6d0 \ubc30\uce58 \uc804\ub7b5\uc5d0 \ub530\ub77c \ud568\uaed8 \uc608\uc57d\ud560 \uc218 \uc788\ub3c4\ub85d \ub3c4\uc640\uc90d\ub2c8\ub2e4. \uc774\ub97c \ud1b5\ud574 GPU \uc790\uc6d0 \uade0\ub4f1 \ubc30\uce58, \ub178\ub4dc \uac04 \ubd84\uc0b0 \uc2e4\ud589 \ub4f1\uc744 \uad6c\ud604\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <ul> <li>\ub9ac\uc18c\uc2a4 \uace0\uc815(Packing), \ubd84\uc0b0 \ubc30\uce58(Spreading) \uc804\ub7b5 \uc81c\uacf5</li> <li>\uace0\uc131\ub2a5 \ucef4\ud4e8\ud305 \ud658\uacbd\uc5d0\uc11c \uc790\uc6d0 \ucd5c\uc801\ud654 \uac00\ub2a5</li> <li>\ubbf8\ub9ac \uc790\uc6d0\uc744 \ud655\ubcf4\ud574 \uc548\uc815\uc801\uc778 \uc791\uc5c5 \uc2e4\ud589 \ubcf4\uc7a5</li> </ul> <pre><code>pg = ray.util.placement_group(\n    [{\"CPU\": 2}, {\"CPU\": 2}],\n    strategy=\"PACK\"\n)\nray.get(pg.ready())\n</code></pre>"},{"location":"fundamentals/concepts/#_1","title":"\uc694\uc57d","text":"\uac1c\ub150 \ud2b9\uc9d5 \uc0ac\uc6a9 \uc608\uc2dc Task \uc0c1\ud0dc \uc5c6\uc74c, \ubcd1\ub82c \uc2e4\ud589 \uc774\ubbf8\uc9c0 \ucc98\ub9ac, \ub370\uc774\ud130 \uc804\ucc98\ub9ac Actor \uc0c1\ud0dc \uc788\uc74c, \ud074\ub798\uc2a4 \uae30\ubc18 \ubaa8\ub378 \ud559\uc2b5, \uc138\uc158 \ucc98\ub9ac Placement Group \uc790\uc6d0 \uc608\uc57d \ubc0f \ubc30\uce58 \uc804\ub7b5 \uc124\uc815 GPU \uc791\uc5c5, \ub178\ub4dc \uac04 \ubd84\uc0b0 \uc2e4\ud589 <p>\uc774 \uac1c\ub150\ub4e4\uc744 \uc774\ud574\ud558\uba74 Ray\uc5d0\uc11c \uc5b4\ub5a4 \ubc29\uc2dd\uc73c\ub85c \uc791\uc5c5\uc744 \ubd84\uc0b0\ud558\uace0, \uc5b4\ub5a4 \uc804\ub7b5\uc73c\ub85c \uc790\uc6d0\uc744 \ud560\ub2f9\ud560\uc9c0 \uc124\uacc4\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc74c \uc7a5\uc5d0\uc11c\ub294 Ray Runtime \ub0b4\ubd80\uc5d0\uc11c \uc774\ub7f0 \uc791\uc5c5\ub4e4\uc774 \uc5b4\ub5bb\uac8c \uc2e4\ud589\ub418\ub294\uc9c0 \ub354 \uae4a\uc774 \uc0b4\ud3b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p>"},{"location":"fundamentals/runtime-services/","title":"2.3 Ray Runtime \ud575\uc2ec \uc11c\ube44\uc2a4","text":"<p>Ray\uac00 \ubd84\uc0b0 \uc2e4\ud589\uc744 \ud6a8\uacfc\uc801\uc73c\ub85c \uc218\ud589\ud560 \uc218 \uc788\ub294 \uc774\uc720\ub294 \ub0b4\ubd80\uc5d0 \uc798 \uc124\uacc4\ub41c \ub7f0\ud0c0\uc784 \uc11c\ube44\uc2a4\ub4e4\uc774 \uc788\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4. \uc774 \uc7a5\uc5d0\uc11c\ub294 Ray \ud074\ub7ec\uc2a4\ud130 \ub0b4\ubd80\uc5d0\uc11c \uc9c0\uc18d\uc801\uc73c\ub85c \uc791\ub3d9\ud558\uba70, \uc791\uc5c5 \ubd84\uc0b0, \uc0c1\ud0dc \uad00\ub9ac, \ub370\uc774\ud130 \uc804\ud30c\uc5d0 \uc911\uc694\ud55c \uc5ed\ud560\uc744 \uc218\ud589\ud558\ub294 \ud575\uc2ec \uc11c\ube44\uc2a4\ub4e4(GCS, Object Store, Scheduler, Worker Process)\uc5d0 \ub300\ud574 \uc54c\uc544\ubd05\ub2c8\ub2e4.</p>"},{"location":"fundamentals/runtime-services/#gcs-global-control-store-global-control-service","title":"GCS (Global Control Store / Global Control Service)","text":"<p>GCS\ub294 Ray\uc758 \uc911\uc559 \uba54\ud0c0\ub370\uc774\ud130 \uc800\uc7a5\uc18c\uc774\uc790 \uc81c\uc5b4 \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4. \ud074\ub7ec\uc2a4\ud130 \ub0b4\uc5d0\uc11c \ubc1c\uc0dd\ud558\ub294 \ub2e4\uc591\ud55c \uc0c1\ud0dc \uc815\ubcf4\ub97c \uad00\ub9ac\ud569\ub2c8\ub2e4.</p> <ul> <li>Actor\uc640 Task\uc758 \uc0dd\uc131 \ubc0f \uc0c1\ud0dc \ucd94\uc801  </li> <li>\ub178\ub4dc, \uc790\uc6d0 \uc0ac\uc6a9\ub7c9, \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc815\ubcf4 \uad00\ub9ac  </li> <li>Ray 1.11\ubd80\ud130\ub294 \ub0b4\ubd80 \uad6c\ud604\ub41c \ud0a4-\ubc38\ub958 \uc2a4\ud1a0\uc5b4\uc640 gRPC \uae30\ubc18 pub/sub\ub97c \uae30\ubcf8\uc73c\ub85c \uc0ac\uc6a9  </li> <li>\ud544\uc694 \uc2dc\uc5d0\ub294 \uc678\ubd80 Redis\ub97c \uace0\uac00\uc6a9\uc131 HA \ubc31\uc5d4\ub4dc\ub85c \uc120\ud0dd\uc801\uc73c\ub85c \uc5f0\uacb0\ud560 \uc218 \uc788\uc74c</li> </ul> <p>\uc989, GCS\ub294 \ud074\ub7ec\uc2a4\ud130\uc758 \ub450\ub1cc \uc5ed\ud560\uc744 \ud558\uba70, Redis\ub294 1.11 \uc774\uc804\uae4c\uc9c0 \uae30\ubcf8 \ubc31\uc5d4\ub4dc\uc600\uc9c0\ub9cc \uc774\ud6c4 \ubc84\uc804\ubd80\ud130\ub294 \ub0b4\ubd80 \uc11c\ube44\uc2a4 \uad6c\uc870\ub85c \uc804\ud658\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc678\ubd80 Redis\ub294 HA\ub098 \ubcf5\uad6c \uc6a9\ub3c4\ub85c\ub9cc \uc0ac\uc6a9\ub429\ub2c8\ub2e4.</p>"},{"location":"fundamentals/runtime-services/#object-store","title":"Object Store","text":"<p>Object Store\ub294 Ray\uc758 \ub370\uc774\ud130 \uacf5\uc720 \uba54\ucee4\ub2c8\uc998\uc785\ub2c8\ub2e4. \ud074\ub7ec\uc2a4\ud130 \ub0b4 \ubaa8\ub4e0 \ub178\ub4dc\ub294 \uc774 \uacf5\uc720 \uba54\ubaa8\ub9ac\ub97c \ud1b5\ud574 \ub370\uc774\ud130\ub97c \uc8fc\uace0\ubc1b\uc2b5\ub2c8\ub2e4.</p> <ul> <li>Ray Task\ub098 Actor\uac00 \ubc18\ud658\ud558\ub294 \uac1d\uccb4\ub294 Object Store\uc5d0 \uc800\uc7a5\ub428</li> <li>\uc11c\ub85c \ub2e4\ub978 \ub178\ub4dc \uac04 \ub300\uc6a9\ub7c9 \ub370\uc774\ud130\ub97c \ub124\ud2b8\uc6cc\ud06c \uc5c6\uc774 \ube60\ub974\uac8c \uc804\ub2ec \uac00\ub2a5</li> <li>Zero-copy \ubc29\uc2dd\uc73c\ub85c \uba54\ubaa8\ub9ac \ud6a8\uc728\uc131 \ud655\ubcf4</li> </ul> <p>\uc989, Object Store\ub294 \ubd84\uc0b0\ub41c \uc791\uc5c5\ub4e4\uc774 \ub370\uc774\ud130 \ubcd1\ubaa9 \uc5c6\uc774 \ube60\ub974\uac8c \ud611\ub825\ud560 \uc218 \uc788\uac8c \ud574\uc90d\ub2c8\ub2e4.</p>"},{"location":"fundamentals/runtime-services/#scheduler","title":"Scheduler","text":"<p>Ray Scheduler\ub294 \uc791\uc5c5(Task/Actor)\uc744 \uc5b4\ub5a4 \ub178\ub4dc\uc5d0 \ubc30\uce58\ud560\uc9c0 \uacb0\uc815\ud558\ub294 \uc911\uc559 \uc2a4\ucf00\uc904\ub7ec\uc785\ub2c8\ub2e4.</p> <ul> <li>\uc790\uc6d0 \uc815\ubcf4(CPU, GPU \ub4f1)\uc640 Task \uc694\uad6c\uc0ac\ud56d\uc744 \ubc14\ud0d5\uc73c\ub85c \uc2e4\ud589 \uc704\uce58 \uacb0\uc815</li> <li>GCS\uc640 \ud611\ub825\ud558\uc5ec Actor\uc758 \uc7ac\uc2dc\uc791, \uc704\uce58 \ubcf5\uc6d0 \ub4f1\ub3c4 \uad00\ub9ac</li> <li>\uae30\ubcf8\uc801\uc73c\ub85c Head Node\uc5d0\uc11c \uc2e4\ud589\ub418\uba70, \ud070 \ud074\ub7ec\uc2a4\ud130\uc5d0\uc120 \ubd84\uc0b0 \uc2a4\ucf00\uc904\ub9c1\ub3c4 \uc9c0\uc6d0</li> </ul> <p>\ud6a8\uc728\uc801\uc778 \uc790\uc6d0 \ubc30\ubd84\uacfc \ube60\ub978 \uc791\uc5c5 \uc2dc\uc791\uc744 \uc704\ud574 Scheduler\ub294 \ud074\ub7ec\uc2a4\ud130 \uc804\uccb4\uc758 \uc0c1\ud669\uc744 \uc2e4\uc2dc\uac04\uc73c\ub85c \ud30c\uc545\ud569\ub2c8\ub2e4.</p>"},{"location":"fundamentals/runtime-services/#worker-processes","title":"Worker Processes","text":"<p>Worker\ub294 \uc2e4\uc81c\ub85c Task\ub098 Actor\ub97c \uc2e4\ud589\ud558\ub294 \uc791\uc5c5 \uc2e4\ud589 \uc5d4\uc9c4\uc785\ub2c8\ub2e4.</p> <ul> <li>\uac01 Worker\ub294 Python, Java \ub4f1\uc73c\ub85c \uad6c\ub3d9\ub418\ub294 \ub3c5\ub9bd \ud504\ub85c\uc138\uc2a4</li> <li>Raylet(Node \uc5d0\uc774\uc804\ud2b8)\ub85c\ubd80\ud130 \uc791\uc5c5 \uc9c0\uc2dc\ub97c \ubc1b\uc544 \uc2e4\ud589</li> <li>\uc5ec\ub7ec Worker\uac00 \ud55c \ub178\ub4dc\uc5d0\uc11c \ubcd1\ub82c\ub85c \uc791\ub3d9 \uac00\ub2a5</li> </ul> <p>\uc989, \uc0ac\uc6a9\uc790\uac00 \uc815\uc758\ud55c \ud568\uc218\ub098 \ud074\ub798\uc2a4\ub97c \uc2e4\uc81c\ub85c \uc218\ud589\ud558\ub294 \uc8fc\uccb4\ub294 \uc774 Worker\uc774\uba70, Ray\uc758 \uc2e4\ud589 \ub2e8\uc704 \uc911 \uac00\uc7a5 \ub9d0\ub2e8\uc5d0 \uc788\ub294 \uc2e4\ud589\uc790\uc785\ub2c8\ub2e4.</p> <p>\uc774\ub7ec\ud55c Runtime \uad6c\uc131 \uc694\uc18c\ub4e4\uc740 \uc11c\ub85c \uc720\uae30\uc801\uc73c\ub85c \uc5f0\uacb0\ub418\uc5b4 Ray\uc758 \ubd84\uc0b0 \uc2e4\ud589 \ud658\uacbd\uc744 \uad6c\uc131\ud569\ub2c8\ub2e4. \uac01 \ucef4\ud3ec\ub10c\ud2b8\uac00 \ub2f4\ub2f9\ud558\ub294 \uc5ed\ud560\uc744 \uc774\ud574\ud558\uba74, \ud074\ub7ec\uc2a4\ud130 \ub0b4\ubd80\uc5d0\uc11c \uc5b4\ub5a4 \uc77c\uc774 \uc77c\uc5b4\ub098\uace0 \uc788\ub294\uc9c0\ub97c \ubcf4\ub2e4 \uba85\ud655\ud558\uac8c \ud30c\uc545\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"gcs/cluster-deletion/","title":"6.3 Ray Cluster\ub97c \uc628\uc804\ud788 \uc0ad\uc81c\ud558\uae30 \uc704\ud55c \ubc29\ubc95","text":"<p>Ray \ud074\ub7ec\uc2a4\ud130\ub97c \uc644\uc804\ud788 \uc0ad\uc81c\ud558\ub824\uba74 Pod, Redis \ud0a4, \ub9ac\uc18c\uc2a4\ub97c \ubaa8\ub450 \uc815\ub9ac\ud574\uc57c \ud569\ub2c8\ub2e4. \uc544\ub798\ub294 \ub2e8\uacc4\ubcc4 \ubc29\ubc95\uc785\ub2c8\ub2e4.</p> <ul> <li> <p>RayCluster \ucee4\uc2a4\ud140 \ub9ac\uc18c\uc2a4 \uc0ad\uc81c:</p> <p><code>kubectl delete raycluster &lt;\ud074\ub7ec\uc2a4\ud130-\uc774\ub984&gt;  # \uc608: raycluster-external-redis</code></p> <p>\uc774\ub294 KubeRay \uc624\ud37c\ub808\uc774\ud130\uac00 Pod \uc0ad\uc81c\ub97c \ud2b8\ub9ac\uac70\ud569\ub2c8\ub2e4.</p> </li> <li> <p>Pod \uc0ad\uc81c \ud655\uc778:\ubaa8\ub4e0 Pod\uac00 \uc885\ub8cc\ub420 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub9bd\ub2c8\ub2e4.</p> <p><code>kubectl get pods</code> \uc608\uc0c1: Ray \uad00\ub828 Pod \uc5c6\uc74c. </p> </li> <li> <p>Redis \ud0a4 \ud074\ub9b0\uc5c5 (\uc790\ub3d9 \ub610\ub294 \uc218\ub3d9):     \uc790\ub3d9: \ud5e4\ub4dc Pod \uc885\ub8cc \ud6c4 \uc624\ud37c\ub808\uc774\ud130\uac00 Job \uc0dd\uc131\ud558\uc5ec Redis \ud0a4 \uc0ad\uc81c. <code>kubectl exec -i &lt;REDIS-POD-\uc774\ub984&gt; -- env REDISCLI_AUTH=\"&lt;\ube44\ubc00\ubc88\ud638&gt;\" redis-cli KEYS \"*\"</code></p> <p>\ube48 \ubaa9\ub85d \ud655\uc778. \uc2e4\ud328 \uc2dc \uc218\ub3d9 finalizer \uc81c\uac70 (\uc704 \uba85\ub839 \ucc38\uc870) \ud6c4 Redis \ud074\ub9b0\uc5c5.</p> </li> <li> <p>RayCluster \uc0ad\uc81c \ud655\uc778: <code>kubectl get raycluster</code>     \uc608\uc0c1 \ucd9c\ub825: \"No resources found in default namespace.\"</p> </li> <li> <p>\ucd94\uac00 \uc815\ub9ac (\ud544\uc694 \uc2dc):     \uad00\ub828 ConfigMap, Secret, PVC \ub4f1 \uc794\uc5ec \ub9ac\uc18c\uc2a4 \ud655\uc778 \ubc0f \uc0ad\uc81c:</p> <pre><code>kubectl get configmaps,secrets,pvcs -l ray-cluster-name=&lt;\ud074\ub7ec\uc2a4\ud130-\uc774\ub984&gt;\nkubectl delete &lt;\ub9ac\uc18c\uc2a4-\ud0c0\uc785&gt; &lt;\uc774\ub984&gt;\n</code></pre> <p>Redis\uac00 \uc678\ubd80 \ud074\ub7ec\uc2a4\ud130\ub77c\uba74 \ubcc4\ub3c4 \uad00\ub9ac.</p> <p>\uc8fc\uc758: \uc0ad\uc81c \uc911 \uc5d0\ub7ec \ubc1c\uc0dd \uc2dc \ub85c\uadf8 \ud655\uc778 (kubectl logs &lt;\uc624\ud37c\ub808\uc774\ud130-Pod&gt;). GCS fault tolerance \ube44\ud65c\uc131\ud654 \uc2dc \ud074\ub9b0\uc5c5 Job \uc0dd\ub7b5</p> </li> </ul>"},{"location":"gcs/gcs-fault-tolerance-summary/","title":"6.1 GCS Fault Tolerance Configurations \uc694\uc57d","text":"<p>KubeRay\uc758 GCS(Global Control Service) fault tolerance\ub294 \ud074\ub7ec\uc2a4\ud130 \uc218\uc900 \uba54\ud0c0\ub370\uc774\ud130\ub97c \uad00\ub9ac\ud558\ub294 GCS\uc758 \uc2e4\ud328\ub97c \ubc29\uc9c0\ud558\uae30 \uc704\ud574 \uc124\uacc4\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uae30\ubcf8 GCS\ub294 \uba54\ubaa8\ub9ac \uae30\ubc18\uc73c\ub85c \uacb0\ud568 \ud5c8\uc6a9 \uae30\ub2a5\uc774 \uc5c6\uc5b4 \uc2e4\ud328 \uc2dc \uc804\uccb4 \ud074\ub7ec\uc2a4\ud130\uac00 \uc911\ub2e8\ub420 \uc218 \uc788\uc9c0\ub9cc, \uc774\ub97c \ud65c\uc131\ud654\ud558\uba74 \uace0\uac00\uc6a9\uc131 Redis\ub97c \uc0ac\uc6a9\ud574 \ub370\uc774\ud130\ub97c \ubc31\uc5c5\ud558\uace0 \uc7ac\uc2dc\uc791 \uc2dc \ubcf5\uad6c\ud569\ub2c8\ub2e4.</p> <p>\uc8fc\uc694 \ud2b9\uc9d5:</p> <p>\uc6b4\uba85 \uacf5\uc720(fate-sharing): GCS fault tolerance \ube44\ud65c\uc131\ud654 \uc2dc GCS \ud504\ub85c\uc138\uc2a4 \uc885\ub8cc \ud6c4 Ray head Pod\ub3c4 \uc885\ub8cc\ub418\uba70, \uc6cc\ucee4 Pod\ub294 \uc0c1\ud0dc \uc190\uc2e4\ub85c \uc7ac\uc5f0\uacb0 \uc2e4\ud328. \uc0ac\uc6a9 \uc0ac\ub840: Ray Serve\ucc98\ub7fc \uace0\uac00\uc6a9\uc131\uc774 \uc911\uc694\ud55c \uacbd\uc6b0 \uad8c\uc7a5. \uc77c\ubc18 \uc6cc\ud06c\ub85c\ub4dc\uc5d0\ub294 \ube44\uad8c\uc7a5. \uc804\uc81c \uc870\uac74: Ray 2.0.0+, KubeRay 1.3.0+, Redis(\ub2e8\uc77c \uc0e4\ub4dc \ub610\ub294 Sentinel, \ub808\ud50c\ub9ac\uce74 \ud3ec\ud568). \uc8fc\uc758\uc0ac\ud56d: Redis\uc758 \uc601\uc18d\uc801 fault tolerance\uac00 \ud544\uc694\ud558\uba74 \ubcc4\ub3c4 \ud29c\ub2dd \ubb38\uc11c \ucc38\uc870.</p>"},{"location":"gcs/gcs-finalizer-mechanism/","title":"6.2 Ray \uc11c\ube44\uc2a4 \uc885\ub8cc \uc2dc Redis GCS \uc0ac\uc6a9 \uacbd\uc6b0 Finalizer\uc5d0 \uc758\ud55c \uc885\ub8cc \uacfc\uc815 \uba54\uce74\ub2c8\uc998","text":"<p>RayCluster \uc0ad\uc81c \uc2dc KubeRay\ub294 GCS fault tolerance\uac00 \ud65c\uc131\ud654\ub41c \ud074\ub7ec\uc2a4\ud130\uc5d0 Kubernetes finalizer\ub97c \ucd94\uac00\ud558\uc5ec Redis \ud0a4 \ud074\ub9b0\uc5c5\uc744 \ubcf4\uc7a5\ud569\ub2c8\ub2e4. \uc774\ub294 \ud074\ub7ec\uc2a4\ud130 \uc885\ub8cc \ud6c4 \uc794\uc5ec \ub370\uc774\ud130\uac00 \ub0a8\uc9c0 \uc54a\ub3c4\ub85d \ud569\ub2c8\ub2e4.</p> <p>\uc0c1\uc138 \uacfc\uc815 (KubeRay v1.0.0 \uae30\uc900):</p> <ul> <li>kubectl delete raycluster &lt;\ud074\ub7ec\uc2a4\ud130-\uc774\ub984&gt; \uba85\ub839\uc73c\ub85c RayCluster \uc0ad\uc81c \uc694\uccad.</li> <li>KubeRay \uc624\ud37c\ub808\uc774\ud130\uac00 RayCluster\uc758 \ubaa8\ub4e0 Pod(\ud5e4\ub4dc \ubc0f \uc6cc\ucee4)\ub97c \uc0ad\uc81c.</li> <li>\ud5e4\ub4dc Pod \uc885\ub8cc \ud6c4, \uc624\ud37c\ub808\uc774\ud130\uac00 Redis \ud0a4 \uc0ad\uc81c\ub97c \uc704\ud55c Kubernetes Job \uc0dd\uc131.</li> <li>Job\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc644\ub8cc\ub418\uba74 finalizer \uc81c\uac70, RayCluster \uc644\uc804 \uc0ad\uc81c.</li> <li>\ub9cc\uc57d Job \uc2e4\ud328 \uc2dc (v1.0.0): \uc0ad\uc81c\uac00 \ucc28\ub2e8\ub418\uba70, \uc218\ub3d9 finalizer \uc81c\uac70 \ud544\uc694:</li> </ul> <p><code>kubectl patch rayclusters.ray.io &lt;\ud074\ub7ec\uc2a4\ud130-\uc774\ub984&gt; --type json --patch='[ { \"op\": \"remove\", \"path\": \"/metadata/finalizers\" } ]'</code></p> <p>\uadf8 \ud6c4 Redis \ud0a4 \uc218\ub3d9 \uc815\ub9ac.</p> <p>KubeRay v1.1.0\ubd80\ud130: \ud074\ub9b0\uc5c5\uc774 'best-effort'\ub85c \ubcc0\uacbd\ub418\uc5b4 Job \uc2e4\ud328 \uc2dc\uc5d0\ub3c4 finalizer \uc81c\uac70\ud558\uace0 \uc0ad\uc81c \uc9c4\ud589. \uc774\ub294 ENABLE_GCS_FT_REDIS_CLEANUP feature gate\ub85c \ube44\ud65c\uc131\ud654 \uac00\ub2a5 docs.ray.io - turn off redis clean up</p>"},{"location":"hands-on/autoscaler-hpa/","title":"5.5 Ray Autoscaler\uc640 Kubernetes HPA \ucc28\uc774 \ubc0f \uc5f0\ub3d9","text":"<p>Ray\ub294 \uc790\uccb4\uc801\uc73c\ub85c \ud074\ub7ec\uc2a4\ud130 \uc624\ud1a0\uc2a4\ucf00\uc77c\ub9c1 \uae30\ub2a5\uc744 \uc81c\uacf5\ud558\uc9c0\ub9cc, \ucfe0\ubc84\ub124\ud2f0\uc2a4 \ud658\uacbd\uc5d0\uc11c\ub294 \uc885\uc885 Kubernetes HPA(Horizontal Pod Autoscaler)\ub098 Karpenter\uc640 \ud568\uaed8 \uc0ac\uc6a9\ub418\uae30\ub3c4 \ud569\ub2c8\ub2e4. \uc774 \ubb38\uc11c\uc5d0\uc11c\ub294 Ray Autoscaler\uc640 Kubernetes HPA\uc758 \ucc28\uc774\ub97c \uba85\ud655\ud558\uac8c \uad6c\ubd84\ud558\uace0, \ub450 \ubc29\uc2dd\uc744 \uc5b4\ub5bb\uac8c \ud568\uaed8 \ud65c\uc6a9\ud560 \uc218 \uc788\ub294\uc9c0 \uc815\ub9ac\ud569\ub2c8\ub2e4.</p>"},{"location":"hands-on/autoscaler-hpa/#ray-autoscaler","title":"\u2705 Ray Autoscaler\ub780?","text":"<p>Ray Autoscaler\ub294 Ray Head \ub178\ub4dc\uc5d0 \ub0b4\uc7a5\ub41c \ud074\ub7ec\uc2a4\ud130 \ub808\ubca8 \uc2a4\ucf00\uc77c\ub9c1 \ucef4\ud3ec\ub10c\ud2b8\uc785\ub2c8\ub2e4. \uc0ac\uc6a9\uc790\uc758 \uc6cc\ud06c\ub85c\ub4dc(task, actor \ub4f1)\uac00 \ub298\uc5b4\ub098\uba74 worker pod\ub97c \uc790\ub3d9\uc73c\ub85c \ucd94\uac00\ud558\uac70\ub098 \uac10\uc18c\uc2dc\ud0a4\ub294 \uc5ed\ud560\uc744 \uc218\ud589\ud569\ub2c8\ub2e4.</p> <ul> <li>\ub3d9\uc791 \uae30\uc900: Ray \ub0b4\ubd80\uc758 task \ud050 / \ub9ac\uc18c\uc2a4 \ub300\uae30\uc5f4</li> <li>\uc2a4\ucf00\uc77c \ub300\uc0c1: Ray worker \ub178\ub4dc</li> <li>\uc2e4\ud589 \uc704\uce58: Ray head pod \ub0b4\ubd80 (\ubcc4\ub3c4 \ucee8\ud2b8\ub864\ub7ec \uc544\ub2d8)</li> <li>\uc791\ub3d9 \ubc29\uc2dd: <code>RayCluster.spec.enableInTreeAutoscaling = true</code> \uc124\uc815 \uc2dc \uc790\ub3d9 \ud65c\uc131\ud654\ub428</li> </ul> <p>\ucc38\uace0: Ray\uc758 Autoscaler\ub294 \ub0b4\ubd80\uc801\uc73c\ub85c <code>resource demand</code>\ub97c \uae30\ubc18\uc73c\ub85c \ub3d9\uc791\ud558\ubbc0\ub85c, \uc0ac\uc6a9\uc790\uac00 \uc9c1\uc811 \ub9ac\uc18c\uc2a4 \uc694\uccad/\ud560\ub2f9\uc744 \uc81c\uc5b4\ud558\uc9c0 \uc54a\uc544\ub3c4 \ub429\ub2c8\ub2e4.</p>"},{"location":"hands-on/autoscaler-hpa/#kubernetes-hpa","title":"\u2705 Kubernetes HPA\ub780?","text":"<p>Kubernetes HPA\ub294 \ud2b9\uc815 Deployment\ub098 Pod\uc758 CPU/\uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub960 \ub610\ub294 \uc0ac\uc6a9\uc790 \uc815\uc758 metric\uc744 \uae30\uc900\uc73c\ub85c replica \uc218\ub97c \uc790\ub3d9 \uc870\uc808\ud558\ub294 Kubernetes\uc758 \ud45c\uc900 \uc624\ud1a0\uc2a4\ucf00\uc77c\ub7ec\uc785\ub2c8\ub2e4.</p> <ul> <li>\ub3d9\uc791 \uae30\uc900: CPU/\uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9 \ub610\ub294 Custom Metric</li> <li>\uc2a4\ucf00\uc77c \ub300\uc0c1: Replica \uac1c\uc218 (ex. Web App, API \uc11c\ubc84 \ub4f1)</li> <li>\uc2e4\ud589 \uc704\uce58: Kubernetes Control Plane</li> <li>\uae30\ubc18 \ub9ac\uc18c\uc2a4: metrics-server, Prometheus Adapter \ub4f1 \ud544\uc694</li> </ul>"},{"location":"hands-on/autoscaler-hpa/#ray-autoscaler-vs-hpa","title":"\ud83d\udd0d Ray Autoscaler vs HPA \ube44\uad50","text":"\ud56d\ubaa9 Ray Autoscaler Kubernetes HPA \uc801\uc6a9 \ub300\uc0c1 Worker Pod \uc77c\ubc18 Deployment \ub3d9\uc791 \uae30\uc900 \ub9ac\uc18c\uc2a4 \ub300\uae30\uc5f4 (Task/Actor) \ub9ac\uc18c\uc2a4 \uc0ac\uc6a9\ub960 (CPU/Memory) \uc791\ub3d9 \uc704\uce58 Ray Head \ub0b4\ubd80 Kubernetes Master \uc5f0\ub3d9 \ubc29\uc2dd <code>RayCluster</code> \uc2a4\ud399 \uae30\ubc18 \ubcc4\ub3c4 Metric + HPA \ub9ac\uc18c\uc2a4 \uc0dd\uc131 \ud544\uc694 \ubaa9\uc801 \ud074\ub7ec\uc2a4\ud130 \uc2a4\ucf00\uc77c\ub9c1 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ub808\ubca8 \uc2a4\ucf00\uc77c\ub9c1"},{"location":"hands-on/autoscaler-hpa/#_1","title":"\ud83d\udd27 \ud568\uaed8 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0","text":"<ul> <li>Ray Autoscaler\ub294 \ud074\ub7ec\uc2a4\ud130 \ud655\uc7a5/\ucd95\uc18c\uc5d0 \uc9d1\uc911</li> <li>Kubernetes HPA\ub294 Serve Replica\ub098 RayJob\uc758 Pod \uc218 \uc870\uc808\uc5d0 \uc801\ud569</li> </ul>"},{"location":"hands-on/autoscaler-hpa/#ray-serve-hpa","title":"\uc608\uc2dc: Ray Serve\uc640 HPA\ub97c \ud568\uaed8 \uc0ac\uc6a9\ud558\ub294 \uc2dc\ub098\ub9ac\uc624","text":"<pre><code>apiVersion: autoscaling/v2\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: ray-serve-hpa\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: ray-serve-replica\n  minReplicas: 1\n  maxReplicas: 5\n  metrics:\n    - type: Resource\n      resource:\n        name: cpu\n        target:\n          type: Utilization\n          averageUtilization: 60\n</code></pre>"},{"location":"hands-on/autoscaler-hpa/#_2","title":"\ud83d\udca1 \uc815\ub9ac","text":"<ul> <li>Ray Autoscaler\ub294 \ud074\ub7ec\uc2a4\ud130 \ub2e8\uc704\uc758 \uc2a4\ucf00\uc77c\ub9c1\uc744 \uc790\ub3d9\ud654\ud569\ub2c8\ub2e4.</li> <li>Kubernetes HPA\ub294 \uc11c\ube44\uc2a4 \ud639\uc740 \ub808\ud50c\ub9ac\uce74 \ub2e8\uc704\uc758 \uc2a4\ucf00\uc77c\ub9c1\uc744 \ucc98\ub9ac\ud569\ub2c8\ub2e4.</li> <li>\ub458\uc740 \uc911\ubcf5\ub418\ub294 \uac1c\ub150\uc774 \uc544\ub2c8\ub77c \uc11c\ub85c \ubcf4\uc644\uc801\uc785\ub2c8\ub2e4.</li> <li>\uc0ac\uc6a9\uc790\uc758 \uc11c\ube44\uc2a4 \uad6c\uc870\uc5d0 \ub530\ub77c \uc801\uc808\ud788 \ubd84\ub9ac \uc0ac\uc6a9\ud558\uac70\ub098 \ubcd1\ud589 \uc801\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> </ul> <p>\ud83d\udd17 \ucc38\uace0 \ubb38\uc11c - Ray Autoscaler \uacf5\uc2dd \ubb38\uc11c - Kubernetes HPA \uac1c\ub150 </p>"},{"location":"hands-on/first-cluster/","title":"5.2 \ucd5c\ucd08 RayCluster \ubc30\ud3ec","text":"<p>Ray\ub97c \ucfe0\ubc84\ub124\ud2f0\uc2a4 \ud074\ub7ec\uc2a4\ud130 \uc0c1\uc5d0 \uc124\uce58\ud558\uace0 \uc6b4\uc601\ud558\uae30 \uc704\ud55c \uccab \ub2e8\uacc4\ub294 RayCluster \ub9ac\uc18c\uc2a4\ub97c \uc815\uc758\ud558\uace0 \ubc30\ud3ec\ud558\ub294 \uac83\uc785\ub2c8\ub2e4. \uc774 \ubb38\uc11c\uc5d0\uc11c\ub294 RayCluster\uc758 \uae30\ubcf8 \uad6c\uc870\ub97c \uc124\uba85\ud558\uace0, Helm Chart\ub97c \ud1b5\ud574 \uc2e4\uc81c\ub85c \ubc30\ud3ec\ud558\ub294 \uacfc\uc815\uc744 \ub2e8\uacc4\ubcc4\ub85c \uc548\ub0b4\ud569\ub2c8\ub2e4.</p>"},{"location":"hands-on/first-cluster/#_1","title":"\u2705 \uc804\uc81c \uc870\uac74","text":"<p>RayCluster\ub97c \ubc30\ud3ec\ud558\uae30 \uc804\uc5d0 \ub2e4\uc74c \uc694\uc18c\ub4e4\uc774 \uc900\ube44\ub418\uc5b4 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4:</p> <ul> <li>\ucfe0\ubc84\ub124\ud2f0\uc2a4 \ud074\ub7ec\uc2a4\ud130 (v1.21 \uc774\uc0c1 \uad8c\uc7a5)</li> <li>Helm\uc774 \uc124\uce58\ub418\uc5b4 \uc788\uc5b4\uc57c \ud568 (<code>brew install helm</code>)</li> <li><code>kuberay-operator</code>\uac00 \ud074\ub7ec\uc2a4\ud130\uc5d0 \uc124\uce58\ub418\uc5b4 \uc788\uc5b4\uc57c \ud568 (\uc774\uc804 \ub2e8\uacc4 \ucc38\uc870)</li> <li><code>kubectl</code> CLI \uc0ac\uc6a9 \uac00\ub2a5</li> </ul>"},{"location":"hands-on/first-cluster/#raycluster","title":"\u2699\ufe0f \uae30\ubcf8 RayCluster \ub9e4\ub2c8\ud398\uc2a4\ud2b8 \uc0dd\uc131","text":"<p>\uc544\ub798\ub294 \uac00\uc7a5 \uac04\ub2e8\ud55c \ud615\ud0dc\uc758 RayCluster \uc815\uc758\uc785\ub2c8\ub2e4. Ray\uc758 Head Pod\uc640 Worker Pod \uad6c\uc131\uc744 \ub2f4\uace0 \uc788\uc2b5\ub2c8\ub2e4.</p> <pre><code># ray-cluster.yaml\napiVersion: ray.io/v1alpha1\nkind: RayCluster\nmetadata:\n  name: ray-cluster\nspec:\n  rayVersion: \"2.9.0\"\n  headGroupSpec:\n    serviceType: ClusterIP\n    template:\n      spec:\n        containers:\n          - name: ray-head\n            image: rayproject/ray:2.9.0\n            command: [\"/bin/bash\", \"-c\"]\n            args: [\"ray start --head --port=6379\"]\n            ports:\n              - containerPort: 6379\n              - containerPort: 8265\n  workerGroupSpecs:\n    - replicas: 1\n      groupName: small-group\n      template:\n        spec:\n          containers:\n            - name: ray-worker\n              image: rayproject/ray:2.9.0\n              command: [\"/bin/bash\", \"-c\"]\n              args: [\"ray start --address=ray-head:6379\"]\n</code></pre>"},{"location":"hands-on/first-cluster/#_2","title":"\ud83d\ude80 \ud074\ub7ec\uc2a4\ud130 \ubc30\ud3ec","text":"<p>\uc704 \ub9e4\ub2c8\ud398\uc2a4\ud2b8 \ud30c\uc77c\uc744 \uc0ac\uc6a9\ud574 \uc2e4\uc81c\ub85c \ud074\ub7ec\uc2a4\ud130\uc5d0 \ubc30\ud3ec\ud569\ub2c8\ub2e4.</p> <pre><code>kubectl apply -f ray-cluster.yaml\n</code></pre> <p>\ubc30\ud3ec \ud6c4\uc5d0\ub294 <code>kubectl get pods</code> \uba85\ub839\uc73c\ub85c Head/Worker Pod\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \uc0dd\uc131\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4.</p>"},{"location":"hands-on/first-cluster/#_3","title":"\ud83d\udd0d \ubc30\ud3ec \ud655\uc778","text":"<p>\uc544\ub798 \uba85\ub839\uc5b4\ub97c \uc0ac\uc6a9\ud558\uc5ec Head Pod\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \uad6c\ub3d9 \uc911\uc778\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4:</p> <pre><code>kubectl logs -f &lt;head-pod-name&gt;\n</code></pre> <p>\ub610\ub294 Ray Dashboard\uc5d0 \uc811\uc18d\ud574 \ud655\uc778\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4:</p> <pre><code>kubectl port-forward service/ray-cluster-head 8265:8265\n</code></pre> <p>\uadf8 \ud6c4 \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c <code>http://localhost:8265</code>\uc5d0 \uc811\uc18d\ud558\uba74 \ub300\uc2dc\ubcf4\ub4dc\ub97c \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"hands-on/first-cluster/#_4","title":"\u2705 \uae30\ubcf8 \ud14c\uc2a4\ud2b8","text":"<p>\uc544\ub798 Python \ucf54\ub4dc\ub97c \uc2e4\ud589\ud574 Ray\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \ubd84\uc0b0 \uc791\uc5c5\uc744 \ucc98\ub9ac\ud558\ub294\uc9c0 \ud655\uc778\ud574\ubd05\ub2c8\ub2e4.</p> <pre><code>import ray\n\nray.init(address=\"auto\")\n\n@ray.remote\ndef f(x):\n    return x * x\n\nfutures = [f.remote(i) for i in range(4)]\nprint(ray.get(futures))\n</code></pre>"},{"location":"hands-on/first-cluster/#_5","title":"\ud83e\uddf9 \ub9ac\uc18c\uc2a4 \uc815\ub9ac","text":"<p>\ubaa8\ub4e0 \ud14c\uc2a4\ud2b8\uac00 \ub05d\ub09c \ud6c4, \ud074\ub7ec\uc2a4\ud130 \ub9ac\uc18c\uc2a4\ub97c \uc0ad\uc81c\ud558\ub824\uba74 \ub2e4\uc74c \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud558\uc138\uc694:</p> <pre><code>kubectl delete -f ray-cluster.yaml\n</code></pre> <p>\uc774\uc81c \uae30\ubcf8\uc801\uc778 RayCluster \ubc30\ud3ec\ub97c \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc74c \ub2e8\uacc4\uc5d0\uc11c\ub294 RayJob\uc744 \ud65c\uc6a9\ud55c \uc791\uc5c5 \uc81c\ucd9c \ubc29\ubc95\uc744 \uc0b4\ud3b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p>"},{"location":"hands-on/install-helm/","title":"5.1 Helm\uc73c\ub85c KubeRay \uc124\uce58","text":"<p>KubeRay\ub294 Ray \ud074\ub7ec\uc2a4\ud130\ub97c \ucfe0\ubc84\ub124\ud2f0\uc2a4 \uc0c1\uc5d0\uc11c \uc6b4\uc601\ud560 \uc218 \uc788\ub3c4\ub85d \ud574\uc8fc\ub294 Operator \uae30\ubc18 \ucef4\ud3ec\ub10c\ud2b8\uc785\ub2c8\ub2e4. Helm\uc744 \ud1b5\ud574 \uac04\ub2e8\ud558\uace0 \uc77c\uad00\ub41c \ubc29\uc2dd\uc73c\ub85c \uc124\uce58\ud560 \uc218 \uc788\uc73c\uba70, \uc774 \ubb38\uc11c\uc5d0\uc11c\ub294 Helm\uc744 \ud65c\uc6a9\ud574 <code>kuberay-operator</code>\ub97c \uc124\uce58\ud558\ub294 \ubc29\ubc95\uc744 \ub2e8\uacc4\ubcc4\ub85c \uc548\ub0b4\ud569\ub2c8\ub2e4.</p>"},{"location":"hands-on/install-helm/#_1","title":"\u2705 \uc804\uc81c \uc870\uac74","text":"<p>KubeRay\ub97c \uc124\uce58\ud558\uae30 \uc804\uc5d0 \ub2e4\uc74c \ud658\uacbd\uc774 \uad6c\uc131\ub418\uc5b4 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4:</p> <ul> <li>\ucfe0\ubc84\ub124\ud2f0\uc2a4 \ud074\ub7ec\uc2a4\ud130 (v1.21 \uc774\uc0c1 \uad8c\uc7a5)</li> <li>Helm 3.x \uc124\uce58\ub418\uc5b4 \uc788\uc5b4\uc57c \ud568</li> <li><code>kubectl</code> CLI \uc0ac\uc6a9 \uac00\ub2a5</li> <li>\ud074\ub7ec\uc2a4\ud130\uc5d0 \uc811\uadfc\ud560 \uc218 \uc788\ub294 kubeconfig \uc124\uc815 \uc644\ub8cc</li> </ul>"},{"location":"hands-on/install-helm/#helm","title":"\ud83d\udd27 Helm \uc124\uce58 (\ud544\uc694 \uc2dc)","text":"<p>macOS \ud658\uacbd\uc5d0\uc11c\ub294 Homebrew\ub97c \ud1b5\ud574 Helm\uc744 \uc124\uce58\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <pre><code>brew install helm\n</code></pre> <p>\uc124\uce58 \ud655\uc778:</p> <pre><code>helm version\n</code></pre>"},{"location":"hands-on/install-helm/#kuberay-helm","title":"\ud83d\udce6 KubeRay Helm \ucc28\ud2b8 \ucd94\uac00","text":"<p>KubeRay\uc758 \uacf5\uc2dd Helm \ucc28\ud2b8\ub97c Helm \uc800\uc7a5\uc18c\uc5d0 \ucd94\uac00\ud569\ub2c8\ub2e4.</p> <pre><code>helm repo add kuberay https://ray-project.github.io/kuberay-helm/\nhelm repo update\n</code></pre>"},{"location":"hands-on/install-helm/#kuberay","title":"\ud83d\ude80 KubeRay \uc124\uce58","text":"<p><code>kuberay-operator</code>\ub294 RayCluster\uc640 RayJob \ub4f1 CRD(Custom Resource)\ub97c \uad00\ub9ac\ud558\ub294 \ud575\uc2ec \uad6c\uc131 \uc694\uc18c\uc785\ub2c8\ub2e4. \uc544\ub798 \uba85\ub839\uc5b4\ub85c \uc124\uce58\ud569\ub2c8\ub2e4:</p> <pre><code>helm install kuberay kuberay/kuberay-operator\n</code></pre> <p>Namespace\ub97c \ub530\ub85c \uc9c0\uc815\ud558\uace0 \uc2f6\ub2e4\uba74:</p> <pre><code>helm install kuberay kuberay/kuberay-operator -n ray-system --create-namespace\n</code></pre>"},{"location":"hands-on/install-helm/#_2","title":"\ud83d\udd0d \uc124\uce58 \ud655\uc778","text":"<p>\uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 Operator\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \uc124\uce58\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4:</p> <pre><code>kubectl get pods -n ray-system\n</code></pre> <p><code>kuberay-operator</code> Pod\uac00 <code>Running</code> \uc0c1\ud0dc\uc5ec\uc57c \ud569\ub2c8\ub2e4.</p> <pre><code>\u250c \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500\\\u2500  pods(kuberay-test)[1] \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u2502 NAME\u2191                                       PF          READY          STATUS                       RESTARTS           CPU           MEM           %CPU/R           %CPU/L           %MEM/R           %MEM/L IP                    NODE                     AGE\n\u2502 kuberay-operator-5d6b954f9d-2xwfj           \u25cf           1/1            Running                             0             2            28                2                2                5                5 10.42.3.85            k3s-worker-02            3d1h\n</code></pre>"},{"location":"hands-on/install-helm/#_3","title":"\ud83d\udee0\ufe0f \ubb38\uc81c \ud574\uacb0","text":"<ul> <li>CRD\uac00 \uc124\uce58\ub418\uc9c0 \uc54a\uc740 \uacbd\uc6b0:</li> </ul> <pre><code>kubectl get crd | grep ray\n</code></pre> <p>\uc704 \uba85\ub839\uc5d0\uc11c \uc544\ubb34 \uac83\ub3c4 \ucd9c\ub825\ub418\uc9c0 \uc54a\ub294\ub2e4\uba74 Helm \uc124\uce58\uac00 \uc2e4\ud328\ud588\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <ul> <li>Operator Pod\uac00 CrashLoopBackOff \uc0c1\ud0dc\ub77c\uba74, \ub85c\uadf8 \ud655\uc778:</li> </ul> <pre><code>kubectl logs -n ray-system deploy/kuberay-operator\n</code></pre> <ul> <li>\uc774\ubbf8 \uc124\uce58\ub41c \uacbd\uc6b0:</li> </ul> <pre><code>helm upgrade --install kuberay kuberay/kuberay-operator\n</code></pre> <p>\uc774\uc81c Ray \ud074\ub7ec\uc2a4\ud130\ub97c \ucfe0\ubc84\ub124\ud2f0\uc2a4 \ud658\uacbd\uc5d0\uc11c \uc0dd\uc131\ud560 \uc900\ube44\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ub2e4\uc74c \ub2e8\uacc4\uc5d0\uc11c\ub294 RayCluster \ub9ac\uc18c\uc2a4\ub97c \uc815\uc758\ud558\uace0 \ubc30\ud3ec\ud558\ub294 \ubc29\ubc95\uc744 \uc54c\uc544\ubd05\ub2c8\ub2e4.</p>"},{"location":"hands-on/rayjob/","title":"5.4 RayJob\uc73c\ub85c \ubd84\uc0b0 \ud559\uc2b5 \uc2e4\ud589","text":"<p>RayJob\uc740 \ucfe0\ubc84\ub124\ud2f0\uc2a4 \ud658\uacbd\uc5d0\uc11c \uc77c\ud68c\uc131(batch) \uc791\uc5c5\uc744 \uc2e4\ud589\ud558\uae30 \uc704\ud55c Custom Resource\uc785\ub2c8\ub2e4. \ubaa8\ub378 \ud559\uc2b5, \ub370\uc774\ud130 \uc804\ucc98\ub9ac, \ubd84\uc0b0 \uacc4\uc0b0 \ub4f1\uc758 \uc791\uc5c5\uc744 \uc548\uc815\uc801\uc73c\ub85c \uc81c\ucd9c\ud558\uace0 \ubaa8\ub2c8\ud130\ub9c1\ud560 \uc218 \uc788\uac8c \ub3c4\uc640\uc90d\ub2c8\ub2e4.</p>"},{"location":"hands-on/rayjob/#rayjob","title":"\u2705 RayJob\uc758 \uac1c\ub150","text":"<p>RayJob\uc740 RayCluster\ub97c \uc9c1\uc811 \ub2e4\ub8e8\uc9c0 \uc54a\uace0\ub3c4 Job \ub2e8\uc704\ub85c \uc791\uc5c5\uc744 \uc2e4\ud589\ud560 \uc218 \uc788\uac8c \ud574\uc90d\ub2c8\ub2e4. \ub2e4\uc74c\uacfc \uac19\uc740 \ud2b9\uc9d5\uc744 \uac00\uc9d1\ub2c8\ub2e4:</p> <ul> <li>\uc77c\ud68c\uc131 \uc2e4\ud589 (\ubc30\ud3ec \ud6c4 \uc790\ub3d9 \uc885\ub8cc)</li> <li>\ud074\ub7ec\uc2a4\ud130 \uc0dd\uc131\uc744 \ub0b4\ubd80\uc801\uc73c\ub85c \ud3ec\ud568</li> <li>\uc791\uc5c5 \uacb0\uacfc\ub97c \ub85c\uadf8\ub85c \ud655\uc778</li> <li>Serve\uc640 \ub2ec\ub9ac HTTP endpoint\uac00 \ud544\uc694 \uc5c6\uc74c</li> </ul>"},{"location":"hands-on/rayjob/#rayjob_1","title":"\ud83d\udcc4 \uae30\ubcf8 RayJob \ub9e4\ub2c8\ud398\uc2a4\ud2b8 \uc608\uc2dc","text":"<pre><code>apiVersion: ray.io/v1alpha1\nkind: RayJob\nmetadata:\n  name: rayjob-sample\nspec:\n  entrypoint: \"python /app/train.py\"\n  runtimeEnv:\n    workingDir: \"s3://your-bucket/train-script\"\n    pip:\n      - scikit-learn\n      - pandas\n    envVars:\n      DATA_PATH: \"s3://your-bucket/data/train.csv\"\n  rayClusterSpec:\n    rayVersion: \"2.9.0\"\n    headGroupSpec:\n      serviceType: ClusterIP\n      template:\n        spec:\n          containers:\n            - name: ray-head\n              image: rayproject/ray:2.9.0\n              ports:\n                - containerPort: 8265\n    workerGroupSpecs:\n      - groupName: worker-group\n        replicas: 2\n        template:\n          spec:\n            containers:\n              - name: ray-worker\n                image: rayproject/ray:2.9.0\n</code></pre>"},{"location":"hands-on/rayjob/#_1","title":"\ud83d\ude80 \uc791\uc5c5 \uc81c\ucd9c","text":"<p>RayJob\uc744 \ud074\ub7ec\uc2a4\ud130\uc5d0 \uc81c\ucd9c\ud558\uba74 \uc790\ub3d9\uc73c\ub85c RayCluster\uac00 \uc0dd\uc131\ub418\uace0, \uc791\uc5c5\uc774 \uc644\ub8cc\ub418\uba74 \ud074\ub7ec\uc2a4\ud130\ub3c4 \uc885\ub8cc\ub429\ub2c8\ub2e4.</p> <pre><code>kubectl apply -f rayjob.yaml\n</code></pre>"},{"location":"hands-on/rayjob/#_2","title":"\ud83d\udd0d \uc0c1\ud0dc \ud655\uc778","text":"<p>\uc791\uc5c5 \uc0c1\ud0dc\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <pre><code>kubectl get rayjob\nkubectl describe rayjob rayjob-sample\n</code></pre> <p>Pod \ub85c\uadf8\ub97c \ud1b5\ud574 \uacb0\uacfc \ud655\uc778:</p> <pre><code>kubectl logs -f &lt;head-pod-name&gt;\n</code></pre>"},{"location":"hands-on/rayjob/#_3","title":"\ud83d\udd01 \uc7ac\uc2e4\ud589","text":"<p>RayJob\uc740 \uae30\ubcf8\uc801\uc73c\ub85c \uc644\ub8cc\ub418\uba74 \uc885\ub8cc\ub418\uae30 \ub54c\ubb38\uc5d0, \ub3d9\uc77c\ud55c \uc791\uc5c5\uc744 \ub2e4\uc2dc \uc2e4\ud589\ud558\ub824\uba74 \ub9ac\uc18c\uc2a4\ub97c \uc0ad\uc81c\ud55c \ud6c4 \ub2e4\uc2dc \uc0dd\uc131\ud574\uc57c \ud569\ub2c8\ub2e4.</p> <pre><code>kubectl delete -f rayjob.yaml\nkubectl apply -f rayjob.yaml\n</code></pre>"},{"location":"hands-on/rayjob/#_4","title":"\ud83d\udd12 \uace0\uae09 \uc124\uc815 \uc608\uc2dc","text":"<ul> <li><code>ttlSecondsAfterFinished</code>: \uc644\ub8cc \ud6c4 \ub9ac\uc18c\uc2a4\ub97c \uc790\ub3d9 \uc815\ub9ac\ud560 \uc2dc\uac04 \uc9c0\uc815</li> <li><code>suspend</code>: Job \uc2e4\ud589\uc744 \uc77c\uc2dc \uc911\ub2e8\ud558\uac70\ub098 \uc7ac\uac1c \uac00\ub2a5</li> <li><code>output</code>: \uc791\uc5c5 \uacb0\uacfc\ub97c \uc678\ubd80 \uc800\uc7a5\uc18c\ub85c \ub0b4\ubcf4\ub0b4\ub294 \ud30c\uc774\ud504\ub77c\uc778 \uad6c\uc131 \uac00\ub2a5</li> </ul> <p>\uc774\uc81c RayJob\uc744 \ud65c\uc6a9\ud574 \ub2e4\uc591\ud55c \ubc30\uce58 \uc791\uc5c5\uacfc \ubd84\uc0b0 \ud559\uc2b5\uc744 \uc548\uc815\uc801\uc73c\ub85c \uc81c\ucd9c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc74c \uc7a5\uc5d0\uc11c\ub294 Ray Autoscaler\uc640 Kubernetes HPA\uc758 \ucc28\uc774\uc810\uc744 \uc0b4\ud3b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p>"},{"location":"hands-on/rayservice/","title":"5.3 RayService\ub85c \uc628\ub77c\uc778 \uc11c\ube59 \uc804\ud658","text":"<p>\uc774\uc804 \ub2e8\uacc4\uc5d0\uc11c\ub294 RayCluster\uc640 RayJob\uc744 \ud1b5\ud574 \uc77c\ud68c\uc131 \ubd84\uc0b0 \uc791\uc5c5\uc744 \uc2e4\ud589\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud588\uc2b5\ub2c8\ub2e4. \uc774\ubc88\uc5d0\ub294 RayService\ub97c \ud1b5\ud574 Ray \uae30\ubc18 \ubaa8\ub378\uc744 \uc9c0\uc18d\uc801\uc774\uace0 \uc548\uc815\uc801\uc73c\ub85c \uc11c\ube59\ud558\ub294 \ubc29\ubc95\uc744 \ub2e4\ub8f9\ub2c8\ub2e4. RayService\ub294 \ubc30\ud3ec \uc124\uc815, \uc0c1\ud0dc \ubaa8\ub2c8\ud130\ub9c1, \ub864\ub9c1 \uc5c5\ub370\uc774\ud2b8, \uc790\uac00 \uce58\uc720 \ub4f1\uc744 \uc9c0\uc6d0\ud558\ub294 CRD(Custom Resource Definition)\uc785\ub2c8\ub2e4.</p>"},{"location":"hands-on/rayservice/#rayservice","title":"\u2705 RayService\ub780?","text":"<p>RayService\ub294 Ray Serve \uae30\ubc18\uc758 \ubc30\ud3ec\ub97c \ucfe0\ubc84\ub124\ud2f0\uc2a4 \ud658\uacbd\uc5d0\uc11c \uc9c0\uc18d\uc801\uc73c\ub85c \uad00\ub9ac\ud560 \uc218 \uc788\ub3c4\ub85d \ud558\ub294 \ub9ac\uc18c\uc2a4\uc785\ub2c8\ub2e4. \ub2e4\uc74c \uae30\ub2a5\ub4e4\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4:</p> <ul> <li>ServeConfig \uae30\ubc18 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc815\uc758</li> <li>\uc790\ub3d9 \ub864\ub9c1 \uc5c5\ub370\uc774\ud2b8 (config \ubcc0\uacbd \uc2dc)</li> <li>Replica \uc0c1\ud0dc \uac10\uc2dc \ubc0f \uc790\uac00 \uce58\uc720</li> <li>\ubc30\ud3ec \uc0c1\ud0dc \ucd94\uc801 \ubc0f \uc77c\uad00\uc131 \uc720\uc9c0</li> </ul>"},{"location":"hands-on/rayservice/#rayservice_1","title":"\ud83d\udcc4 \uae30\ubcf8 RayService \ub9e4\ub2c8\ud398\uc2a4\ud2b8 \uc608\uc2dc","text":"<pre><code>apiVersion: ray.io/v1alpha1\nkind: RayService\nmetadata:\n  name: ray-serve-app\nspec:\n  rayClusterConfig:\n    rayVersion: \"2.9.0\"\n    headGroupSpec:\n      serviceType: ClusterIP\n      template:\n        spec:\n          containers:\n            - name: ray-head\n              image: rayproject/ray:2.9.0\n              ports:\n                - containerPort: 8000  # serve HTTP\n                - containerPort: 8265  # dashboard\n    workerGroupSpecs:\n      - groupName: worker-group\n        replicas: 1\n        template:\n          spec:\n            containers:\n              - name: ray-worker\n                image: rayproject/ray:2.9.0\n  serveConfigV2:\n    applications:\n      - name: hello\n        routePrefix: \"/hello\"\n        importPath: \"app.serve.hello:entrypoint\"\n        runtimeEnv:\n          workingDir: \"s3://your-bucket/serve-app\"\n          pip:\n            - requests\n          env:\n            AWS_ACCESS_KEY_ID: \"your-access-key\"\n            AWS_SECRET_ACCESS_KEY: \"your-secret-key\"\n            RAY_AWS_ENDPOINT_URL: \"https://s3.us-east-1.amazonaws.com\"\n        deployments:\n          - name: entrypoint\n            numReplicas: 2\n</code></pre>"},{"location":"hands-on/rayservice/#_1","title":"\ud83d\ude80 \uc11c\ube44\uc2a4 \ubc30\ud3ec","text":"<pre><code>kubectl apply -f ray-service.yaml\n</code></pre> <p>\ubc30\ud3ec \ud6c4\uc5d0\ub294 \ub2e4\uc74c \uba85\ub839\uc5b4\ub85c \ub9ac\uc18c\uc2a4 \uc0c1\ud0dc\ub97c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <pre><code>kubectl get rayservices\nkubectl get pods\n</code></pre>"},{"location":"hands-on/rayservice/#_2","title":"\ud83c\udf10 \uc11c\ube44\uc2a4 \uc811\uadfc","text":"<p>Serve\ub294 \uae30\ubcf8\uc801\uc73c\ub85c HTTP(8000) \ud3ec\ud2b8\ub97c \ud1b5\ud574 \uc811\uadfc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud074\ub7ec\uc2a4\ud130 \ub0b4\ubd80\uc5d0\uc11c \uc811\uadfc\ud558\ub824\uba74:</p> <pre><code>kubectl port-forward service/ray-serve-app-head 8000:8000\n</code></pre> <p>\ube0c\ub77c\uc6b0\uc800 \ub610\ub294 HTTP \ud074\ub77c\uc774\uc5b8\ud2b8\ub85c <code>http://localhost:8000/hello</code>\uc5d0 \uc694\uccad\uc744 \ubcf4\ub0b4\uba74 \ub429\ub2c8\ub2e4.</p>"},{"location":"hands-on/rayservice/#_3","title":"\ud83d\udd00 \ud2b8\ub798\ud53d \ub77c\uc6b0\ud305","text":"<p><code>routePrefix</code>\ub294 \uac01 Serve Application\uc758 \ub77c\uc6b0\ud305 \uae30\uc900 \uacbd\ub85c\uc785\ub2c8\ub2e4. \uc5ec\ub7ec \ubaa8\ub378\uc744 \uc11c\ube59\ud560 \uacbd\uc6b0 \ub2e4\uc74c\uacfc \uac19\uc774 \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li><code>/predict-a</code> \u2192 A \ubaa8\ub378</li> <li><code>/predict-b</code> \u2192 B \ubaa8\ub378</li> </ul>"},{"location":"hands-on/rayservice/#_4","title":"\ud83d\udd04 \uc790\uac00 \uce58\uc720 \ubc0f \ub864\ub9c1 \uc5c5\ub370\uc774\ud2b8","text":"<ul> <li>ServeConfigV2\uac00 \ubcc0\uacbd\ub418\uba74 RayService\ub294 \uae30\uc874 Deployment\ub97c \uc790\ub3d9\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ud569\ub2c8\ub2e4.</li> <li>\uc2e4\ud328\ud55c Replica\ub294 \uc790\ub3d9\uc73c\ub85c \ubcf5\uad6c\ub418\uba70, \uc774\ub294 \"self healing\" \uba54\ucee4\ub2c8\uc998\uc744 \ud1b5\ud574 \uc774\ub8e8\uc5b4\uc9d1\ub2c8\ub2e4.</li> </ul>"},{"location":"hands-on/rayservice/#_5","title":"\ud83d\udcca \ubaa8\ub2c8\ud130\ub9c1 \uc124\uc815","text":"<p>Ray Dashboard(8265 \ud3ec\ud2b8)\ub97c \ud3ec\ud2b8 \ud3ec\uc6cc\ub529\ud558\uc5ec \uc811\uc18d\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <pre><code>kubectl port-forward service/ray-serve-app-head 8265:8265\n</code></pre> <p>\ub610\ud55c Prometheus \ubc0f Grafana\ub97c \uc5f0\ub3d9\ud558\uc5ec \ub9ac\uc18c\uc2a4 \ubc0f Serve \uc0c1\ud0dc\ub97c \uc2dc\uac01\ud654\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\uc774\uc81c RayService\ub97c \ud1b5\ud574 \ubaa8\ub378\uc744 \uc548\uc815\uc801\uc73c\ub85c \uc11c\ube59\ud558\ub294 \uad6c\uc870\ub97c \uad6c\ud604\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc74c \uc7a5\uc5d0\uc11c\ub294 \uc790\ub3d9 \ud655\uc7a5 \uae30\ub2a5\uacfc HPA/Karpenter\uc640\uc758 \ucc28\uc774\uc810\uc744 \uc124\uba85\ud569\ub2c8\ub2e4.</p>"},{"location":"intro/learning-objectives/","title":"1.2\u00a0Ray\u00a0Cluster\u00a0\ud559\uc2b5\u00a0\ubaa9\ud45c\uc640\u00a0\ubb38\uc11c\u00a0\ud65c\uc6a9\u00a0\ubc29\ubc95","text":"<p>\uc774 \uc7a5\uc5d0\uc11c\ub294 Ray\u00a0Cluster\ub97c \ud559\uc2b5\ud560 \ub54c \ub3c4\ub2ec\ud574\uc57c \ud560 \uad6c\uccb4\uc801\uc778 \ubaa9\ud45c\uc640, MkDocs \uae30\ubc18 \ubb38\uc11c\ub97c \uac00\uc7a5 \ud6a8\uc728\uc801\uc73c\ub85c \ud65c\uc6a9\ud558\ub294 \ubc29\ubc95\uc744 \uc548\ub0b4\ud569\ub2c8\ub2e4. 1.1\uc7a5\uc5d0\uc11c Ray\uc640 \ubd84\uc0b0 \uc2e4\ud589 \ubaa8\ub378\uc758 \uc804\ubc18\uc744 \uc0b4\ud3b4\ubcf4\uc558\ub2e4\uba74, \uc774\uc81c\ub294 \ubaa9\ud45c \uc9c0\ud5a5\uc801\uc73c\ub85c \ud559\uc2b5 \uc5ec\uc815\uc744 \uc124\uacc4\ud574 \ubd05\uc2dc\ub2e4.</p>"},{"location":"intro/learning-objectives/#ray-cluster","title":"\u2728\u00a0\uc65c\u00a0Ray\u00a0Cluster\uc778\uac00?","text":"<p>Ray\u00a0Cluster\ub294 Python\u2011first \ubd84\uc0b0 \uc2e4\ud589 \uc5d4\uc9c4\uc73c\ub85c, \ub2e8\uc77c \ub178\ud2b8\ubd81\uc5d0\uc11c \ub300\uaddc\ubaa8 ML \uc6cc\ud06c\ub85c\ub4dc\uae4c\uc9c0 \uc790\uc5f0\uc2a4\ub7fd\uac8c \ud655\uc7a5\ub429\ub2c8\ub2e4.\u00a0\ud2b9\ud788 MLOps \uad00\uc810\uc5d0\uc11c\u00a0</p> <ul> <li>\ub3d9\uc801 \uc624\ud1a0\uc2a4\ucf00\uc77c\ub9c1</li> <li>\ubc30\uce58\u00b7\uc11c\ube59 \ud1b5\ud569 \uc2e4\ud589 \ubaa8\ub378</li> <li>\uba48\ucda4/\uc7ac\uac1c(friendliness to fault tolerance)</li> </ul> <p>\uc744 \uacbd\ud5d8\ud560 \uc218 \uc788\ub2e4\ub294 \uc810\uc774 \ud0c1\uc6d4\ud569\ub2c8\ub2e4.\u00a0\ubcf8 \uc2ec\ud654 \uc5ec\uc815\uc740 \ud074\ub7ec\uc2a4\ud130 \uc6b4\uc6a9\uc758 \uc804\uccb4 \ub77c\uc774\ud504\uc0ac\uc774\ud074\u2014\uc124\uce58\u00a0\u2192 \uac1c\ubc1c\u00a0\u2192 \uc11c\ube59\u00a0\u2192 \ubaa8\ub2c8\ud130\ub9c1\u00a0\u2192 \uc608\uc678 \ub300\uc751\u2014\uc744 \uc9c1\uc811 \uccb4\ud5d8\ud558\ub3c4\ub85d \uc124\uacc4\ub418\uc5c8\uc2b5\ub2c8\ub2e4.</p>"},{"location":"intro/learning-objectives/#_1","title":"\ud83c\udfc1\u00a0\ud559\uc2b5 \ubaa9\ud45c","text":""},{"location":"intro/learning-objectives/#_2","title":"\ud83d\udea9\u00a0\uae30\ubcf8\u00a0\ub808\ubca8\u00a0(\uc785\ubb38)","text":"\ubaa9\ud45c \uccb4\ud06c\ud3ec\uc778\ud2b8 Ray Core \ud575\uc2ec \uac1c\ub150 \uc774\ud574 <code>ray.init()</code>\u00a0, Remote\u00a0Function\u00a0/\u00a0Actor\u00a0\ud328\ub7ec\ub2e4\uc784 \ub85c\uceec \ub2e8\uc77c \ub178\ub4dc \u2192 \ud074\ub7ec\uc2a4\ud130 \uc804\ud658 <code>ray start --head</code>\u00a0\ub85c \ud074\ub7ec\uc2a4\ud130 \ubd80\ud2b8\uc2a4\ud2b8\ub7a9 \uae30\ubcf8 \uc791\uc5c5 \ubd84\uc0b0 \uc2e4\ud589 CPU\u2011\ubc14\uc6b4\ub4dc \ud0dc\uc2a4\ud06c \ubcd1\ub82c \ucc98\ub9ac \uc608\uc81c \uc644\uc8fc"},{"location":"intro/learning-objectives/#cluster-ops","title":"\ud83d\ude80\u00a0\uc2ec\ud654\u00a0\ub808\ubca8\u00a0(Cluster Ops)","text":"<ul> <li>Autoscaler \uc124\uc815\uc73c\ub85c \uc6cc\ucee4 \ub178\ub4dc \uc790\ub3d9 \uc99d\uac10 \uc2e4\uc2b5</li> <li>Placement Group \ud65c\uc6a9\ud574 GPU \ub9ac\uc18c\uc2a4 \ud328\ud0b9/\uc2a4\ud504\ub808\ub529</li> <li>\uc7a5\uc560 \uc8fc\uc785(Chaos Engineering)\uc73c\ub85c Fault Tolerance \uba54\ucee4\ub2c8\uc998 \uac80\uc99d</li> <li>Serve Deployment Graph \uc791\uc131 \ubc0f A/B\u00a0\ud2b8\ub798\ud53d \ubd84\ubc30 \uc2e4\ud5d8</li> </ul>"},{"location":"intro/learning-objectives/#mlops-endtoend","title":"\ud83d\udd0d\u00a0MLOps\u00a0\uad00\uc810\u00a0(End\u2011to\u2011End)","text":"<ol> <li>\ub370\uc774\ud130 \ud30c\uc774\ud504\ub77c\uc778\u00a0\u2013 Ray\u00a0DAG +\u00a0Dataset API\ub85c \ubd84\uc0b0 \uc804\ucc98\ub9ac</li> <li>\ubaa8\ub378 \ud559\uc2b5\u00a0\u2013 Ray\u00a0Train/Tune\ub85c \ud558\uc774\ud37c\ud30c\ub77c\ubbf8\ud130 \uc2a4\uc715</li> <li>\uc11c\ube59\u00a0\u2013 Ray\u00a0Serve + FastAPI \ub798\ud37c, CI/CD \ud578\ub4dc\uc624\ud504</li> <li>\ubaa8\ub2c8\ud130\ub9c1/\uc54c\ub9bc\u00a0\u2013 Prometheus/Grafana\ub85c \uba54\ud2b8\ub9ad \uc218\uc9d1, AlertManager \uc5f0\ub3d9</li> <li>\uc608\uc678 \ubc0f \ub864\ubc31\u00a0\u2013 Checkpoint &amp; Canary\u00a0Release \uc8fc\uae30 \uc2e4\uc2b5</li> </ol>"},{"location":"intro/learning-objectives/#_3","title":"\ud83d\udcda\u00a0\ubb38\uc11c \ud65c\uc6a9 \uac00\uc774\ub4dc","text":""},{"location":"intro/learning-objectives/#_4","title":"\ub3c5\uc790 \ud504\ub85c\ud544","text":"<ul> <li>\ucd08\uae09 \ubd84\uc0b0 \ucef4\ud4e8\ud305 \uacbd\ud5d8\uc790\u00a0(\uba40\ud2f0\ud504\ub85c\uc138\uc2f1/\uba40\ud2f0\uc2a4\ub808\ub529 \uc0ac\uc6a9 \uacbd\ud5d8)</li> <li>ML\u00b7MLOps \uc2e4\ubb34 \ucd08\uc785 \ub2e8\uacc4</li> <li>Docker\u00a0&amp;\u00a0Kubernetes \uc0ac\uc6a9 \uacbd\ud5d8 (\uad8c\uc7a5)</li> </ul>"},{"location":"intro/learning-objectives/#_5","title":"\uc608\uc81c \ucf54\ub4dc &amp; \ub370\uc774\ud130\uc14b","text":"<ul> <li>\ub0b4\uac00 \ub9cc\ub4e0 \ucf54\ub4dc\ub97c \uacf5\uc720\ud574\uc57c \ub418\ub098 \uc0dd\uac01\uc911 ... \uc544\ubb34\uac83\ub3c4 \uc544\ub2d0\uac83 \uac19\uc544\uc11c ... (20250619)</li> <li>Jupyter\u00a0Notebook:\u00a0-</li> <li>\ub370\uc774\ud130\uc14b \ub2e4\uc6b4\ub85c\ub4dc \uc2a4\ud06c\ub9bd\ud2b8:\u00a0-</li> </ul>"},{"location":"intro/learning-objectives/#_6","title":"\ud83d\udd17\u00a0\ucd94\uac00 \uc790\ub8cc","text":"<ul> <li>Ray \uacf5\uc2dd \ubb38\uc11c</li> <li>Ray\u00a0Serve Quick\u2011Start</li> </ul>"},{"location":"intro/why-ray/","title":"1. \uc65c Ray\uc778\uac00? (Why Ray?)","text":"<p>\uc694\uc57d : \ub370\uc774\ud130\u00b7AI \uc6cc\ud06c\ub85c\ub4dc\uac00 \u201c\ub300\uaddc\ubaa8\u00b7\uc800\uc9c0\uc5f0\u00b7\ub2e4\uc591\uc131\u201d 3\ubc15\uc790\ub97c \uc694\uad6c\ud558\uba74\uc11c, Ray\ub294 Python \uce5c\ud654\uc801 \ubd84\uc0b0 \ub7f0\ud0c0\uc784 + \uc720\ub2c8\ubc84\uc124 API + \ud074\ub77c\uc6b0\ub4dc \ub124\uc774\ud2f0\ube0c \uc624\ud37c\ub808\uc774\ud130(KubeRay) \ub77c\ub294 \ub3c5\ud2b9\ud55c \uc870\ud569\uc73c\ub85c \uae09\ubd80\uc0c1\ud588\uc2b5\ub2c8\ub2e4.</p>"},{"location":"intro/why-ray/#1-1","title":"1-1. \uae30\uc220\uc801 \ud544\uc694\uc131","text":"\uc694\uad6c\uc0ac\ud56d \uc804\ud1b5 \uc194\ub8e8\uc158 \ud55c\uacc4 Ray\uc758 \uc811\uadfc \uc138\ubd84\ud654\ub41c \ubcd1\ub82c\ud654 (Micro-task, Actor) Spark: RDD\ub2e8\uc704\u00b7\ubc30\uce58 \uc911\uc2ec Task/Actor API\ub85c \ud568\uc218\u00b7\uac1d\uccb4 \ub2e8\uc704 \uc2a4\ucf00\uc77c-\uc544\uc6c3 Python \uc5d0\ucf54\uc2dc\uc2a4\ud15c Hadoop \uacc4\uc5f4\uc740 JVM \uc704\uc8fc CPython \uadf8\ub300\ub85c \uc2e4\ud589, Numpy/PyTorch \ud638\ud658 \uc11c\ube59\u00b7\uc2e4\ud5d8\u00b7\ud30c\uc774\ud504\ub77c\uc778 \ud1b5\ud569 MSA \ub530\ub85c, Airflow \ub530\ub85c Serve\u00b7Tune\u00b7Workflow \ubaa8\ub4c8\ub85c \u201c\ud558\ub098\uc758 \ub7f0\ud0c0\uc784\u201d \ud074\ub77c\uc6b0\ub4dc \ub124\uc774\ud2f0\ube0c YARN/Mesos \uc885\uc18d \u00b7 \ucfe0\ubc84\ub124\ud2f0\uc2a4 \ubd80\uc790\uc5f0 KubeRay Operator + CRD = \uc120\uc5b8\ud615 \ubc30\ud3ec GPU / TPU \ud63c\ud569 \uc2a4\ucf00\uc904\ub9c1 Spark\ub294 GPU \uc9c0\uc6d0\uc774 \uc81c\ud55c\uc801 \uc790\uc6d0 \ud0dc\uadf8 \uae30\ubc18 \uc2a4\ucf00\uc904\ub7ec, Rapids\u00b7CUDA \ud638\ud658"},{"location":"intro/why-ray/#1-2","title":"1-2. \uacbd\uc7c1 \ud504\ub808\uc784\uc6cc\ud06c \ube44\uad50","text":"\ud56d\ubaa9 Ray Apache Spark Dask Celery \uc8fc \uc0ac\uc6a9\uc5b8\uc5b4 Python (1st-class) JVM\u00b7Scala Python Python \uc2e4\ud589 \ub2e8\uc704 Task / Actor Stage / RDD Task / Graph Task / Queue \uc2e4\uc2dc\uac04\u00b7\uc11c\ube59 Serve \ud1b5\ud569 Structured Streaming \ud55c\uc815 \ubcc4\ub3c4 \ud504\ub85c\uc81d\ud2b8 \ud544\uc694 \uc81c\ud55c\uc801 \ucfe0\ubc84\ub124\ud2f0\uc2a4 Operator KubeRay (CRD \uc644\ube44) Spark-on-k8s Webhook Dask-Kubernetes \uc5c6\uc74c GPU \ub124\uc774\ud2f0\ube0c \u2705 \u26a0 \ubd80\ubd84 \u26a0 \ubd80\ubd84 \u274c \ub300\ud45c \uc0ac\uc6a9\ucc98 OpenAI, Shopify, Uber Netflix, Pinterest Prefect, Saturn Cloud Instagram, Reddit <p>\uacb0\ub860 : \u201cPython \ub370\uc774\ud130 + AI +Burst-scaling\u201d \uc870\ud569\uc5d4 Ray\uac00 \ube44\uc6a9 \ub300\ube44 \ud559\uc2b5\u00b7\uc11c\ube59 \ud1b5\ud569 \uc18d\ub3c4\uac00 \uac00\uc7a5 \ube60\ub974\ub2e4.</p>"},{"location":"intro/why-ray/#1-3","title":"1-3. \ucc44\ud0dd \ud2b8\ub80c\ub4dc &amp; \uc0ac\ub840","text":"<ul> <li>OpenAI : GPT \uc804\ucc98\ub9ac \ud30c\uc774\ud504\ub77c\uc778 \u2192 Ray Data &amp; Workflow  </li> <li>Shopify : \uc2e4\uc2dc\uac04 \ub51c\ub9ac\ubc84\ub9ac ETA \u2192 Ray Serve + Autoscaler  </li> <li>Uber : \uc790\uc728\uc8fc\ud589 \uc2dc\ubbac\ub808\uc774\uc158 \u2192 10 K+ \ub178\ub4dc Ray Cluster  </li> </ul> <p>IDC 2024 \ubcf4\uace0\uc11c \uae30\uc900, \u201cRay adoption CAGR &gt; 120 %\u201d \ub85c Spark/Dask \ub300\ube44 \uac00\uc7a5 \uac00\ud30c\ub978 \uc131\uc7a5\uc138\ub97c \uae30\ub85d.</p>"},{"location":"intro/why-ray/#1-4","title":"1-4. \uc774 \ubb38\uc11c\uc758 \ud559\uc2b5 \ubc94\uc704","text":"<ol> <li>\uae30\ucd08 : Task\u00b7Actor\u00b7Placement Group \uc774\ud574  </li> <li>Ray Service \ud328\ubc00\ub9ac : Cluster / Serve / Job / Workflow  </li> <li>KubeRay \uc2e4\uc804 : CRD \ubc30\ud3ec\u00b7\uc624\ud1a0\uc2a4\ucf00\uc77c\u00b7\ubaa8\ub2c8\ud130\ub9c1  </li> <li>\uc6b4\uc601 \uace0\uae09 : \uba40\ud2f0\ud14c\ub10c\uc2dc\u00b7GPU \uc2a4\ucf00\uc904\ub9c1\u00b7CI/CD</li> </ol>"},{"location":"kuberay/architecture/","title":"4.2 KubeRay \uc544\ud0a4\ud14d\ucc98","text":"<p>KubeRay\ub294 Ray \ud074\ub7ec\uc2a4\ud130\ub97c Kubernetes \uc0c1\uc5d0\uc11c \uc548\uc815\uc801\uc73c\ub85c \uc2e4\ud589\ud558\uace0 \uc6b4\uc601\ud558\uae30 \uc704\ud55c \uc624\ud37c\ub808\uc774\ud130 \uae30\ubc18 \ud504\ub808\uc784\uc6cc\ud06c\uc785\ub2c8\ub2e4. \uc774 \uc7a5\uc5d0\uc11c\ub294 KubeRay\uc758 \ub0b4\ubd80 \uad6c\uc131\uc694\uc18c\uc640 \ud074\ub7ec\uc2a4\ud130\uac00 \uc5b4\ub5bb\uac8c \uc0dd\uc131\ub418\uace0 \uad00\ub9ac\ub418\ub294\uc9c0\uc758 \ud750\ub984\uc744 \uc0b4\ud3b4\ubd05\ub2c8\ub2e4.</p>"},{"location":"kuberay/architecture/#_1","title":"\uc544\ud0a4\ud14d\ucc98 \uac1c\uc694","text":"<p>KubeRay\ub294 Kubernetes API\uc640 Ray \ub7f0\ud0c0\uc784 \uc0ac\uc774\uc5d0\uc11c \uc911\uac04 \ub2e4\ub9ac \uc5ed\ud560\uc744 \ud558\uba70, CRD(Custom Resource Definition)\ub97c \ud1b5\ud574 Ray \ud074\ub7ec\uc2a4\ud130 \ub9ac\uc18c\uc2a4\ub97c \uc120\uc5b8\ud615\uc73c\ub85c \uad00\ub9ac\ud560 \uc218 \uc788\ub3c4\ub85d \uad6c\uc131\ub429\ub2c8\ub2e4.</p> <pre><code>sequenceDiagram\n  participant User as \uc0ac\uc6a9\uc790 (YAML \uc815\uc758)\n  participant APIServer as Kubernetes API Server\n  participant Webhook as CRD Validation Webhook\n  participant Controller as KubeRay Controller\n  participant Pod as RayCluster Pod\n  participant Autoscaler as Ray Autoscaler\n\n  User-&gt;&gt;APIServer: CR \ub9ac\uc18c\uc2a4 \uc815\uc758 \uc81c\ucd9c (RayCluster \ub4f1)\n  APIServer-&gt;&gt;Webhook: \uc720\ud6a8\uc131 \uac80\uc0ac \uc694\uccad\n  Webhook--&gt;&gt;APIServer: \uac80\uc0ac \uacb0\uacfc \uc751\ub2f5\n  APIServer-&gt;&gt;Controller: CR \uc774\ubca4\ud2b8 \uc804\ub2ec\n  Controller-&gt;&gt;Pod: Head/Worker \uc0dd\uc131\n  Controller-&gt;&gt;Autoscaler: Autoscaler \uc124\uc815 \ub3d9\uae30\ud654</code></pre> <ul> <li>\uc0ac\uc6a9\uc790\ub294 RayCluster, RayService, RayJob \ub4f1\uc758 CR\ub97c YAML\ub85c \uc815\uc758\ud569\ub2c8\ub2e4.</li> <li>KubeRay \ucee8\ud2b8\ub864\ub7ec\ub294 \uc774 CR\uc744 \uac10\uc9c0\ud558\uace0, \uc801\uc808\ud55c Ray Pod(Head, Worker)\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4.</li> <li>Webhook\uc740 \ub9ac\uc18c\uc2a4\uc758 \uc720\ud6a8\uc131\uc744 \uac80\uc99d\ud558\uace0, Autoscaler\ub294 \uc6cc\ucee4 \uc218\ub97c \ub3d9\uc801\uc73c\ub85c \uc870\uc808\ud569\ub2c8\ub2e4.</li> </ul>"},{"location":"kuberay/architecture/#_2","title":"\uc8fc\uc694 \ucef4\ud3ec\ub10c\ud2b8","text":""},{"location":"kuberay/architecture/#kuberay-operator-controller","title":"KubeRay Operator (Controller)","text":"<ul> <li><code>controller-manager</code>\ub85c \uc2e4\ud589\ub418\ub294 \ud575\uc2ec \ucee8\ud2b8\ub864\ub7ec\uc785\ub2c8\ub2e4.</li> <li>RayCluster CR\uc744 \uac10\uc9c0\ud558\uace0 Head/Worker Pod\ub97c \uc0dd\uc131 \ubc0f \uad00\ub9ac\ud569\ub2c8\ub2e4.</li> <li>Serve \uc124\uc815 \ubcc0\uacbd \uc2dc \ub864\ub9c1 \uc5c5\ub370\uc774\ud2b8 \ucc98\ub9ac</li> </ul>"},{"location":"kuberay/architecture/#autoscaler","title":"Autoscaler","text":"<ul> <li>\ud074\ub7ec\uc2a4\ud130 \ub0b4\ubd80\uc5d0 \ub3d9\uc791\ud558\ub294 Ray \uc790\uccb4 Autoscaler\uc785\ub2c8\ub2e4.</li> <li>\uc6cc\ucee4 \ub178\ub4dc \uc218\ub97c \uc6cc\ud06c\ub85c\ub4dc\uc5d0 \ub530\ub77c \uc790\ub3d9 \uc99d\uac00/\uac10\uc18c\uc2dc\ud0b5\ub2c8\ub2e4.</li> <li>\uc218\ud3c9 Pod \uc624\ud1a0\uc2a4\ucf00\uc77c\ub9c1(HPA) \ub610\ub294 Karpenter\uc640 \uc5f0\uacc4 \uac00\ub2a5</li> </ul>"},{"location":"kuberay/architecture/#kubernetes-hpa","title":"Kubernetes HPA\uc640\uc758 \ucc28\uc774\uc810","text":"<p>Ray\ub294 \uc790\uccb4 Autoscaler\ub97c \ud1b5\ud574 \ud074\ub7ec\uc2a4\ud130 \ub0b4 Worker Pod \uc218\ub97c \uc790\ub3d9\uc73c\ub85c \uc870\uc808\ud569\ub2c8\ub2e4. \uc774\ub294 Kubernetes\uc758 Horizontal Pod Autoscaler(HPA)\uc640\ub294 \uc791\ub3d9 \ubc29\uc2dd\uc774 \ub2e4\ub985\ub2c8\ub2e4.</p> \ud56d\ubaa9 Ray Autoscaler Kubernetes HPA \uc2a4\ucf00\uc77c \uae30\uc900 Ray \ub0b4\ubd80 \uc791\uc5c5(Task, Actor) \uc218\uc694 CPU/\uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub960 \uc81c\uc5b4 \ub300\uc0c1 Ray Worker Pod \uc218 \uc77c\ubc18 Pod \uc218 \uc791\ub3d9 \uc704\uce58 Ray Head Pod \ub0b4\ubd80 \ucee8\ud2b8\ub864\ub7ec Kubernetes \ucee8\ud2b8\ub864\ub7ec \uc5f0\ub3d9 \uc5ec\ubd80 \uae30\ubcf8 \ub0b4\uc7a5 (KubeRay\uc640 \ud1b5\ud569\ub428) \uc218\ub3d9 \uad6c\uc131 \ud544\uc694 \ubaa9\uc801 \ud074\ub7ec\uc2a4\ud130 \uc804\uccb4 \uc6cc\ud06c\ub85c\ub4dc \uc870\uc808 \ud2b9\uc815 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 Pod \uc870\uc808 <p>Ray Autoscaler\ub294 Kubernetes HPA\ucc98\ub7fc \ub9ac\uc18c\uc2a4 \uc0ac\uc6a9\ub960 \uae30\ubc18\uc774 \uc544\ub2c8\ub77c, Ray \ud074\ub7ec\uc2a4\ud130 \ub0b4\ubd80\uc758 \uc6cc\ud06c\ub85c\ub4dc \uc0c1\ud0dc(Task/Actor \uc218\uc694)\uc5d0 \ub530\ub77c \ud310\ub2e8\ud558\uc5ec \ud655\uc7a5\u00b7\ucd95\uc18c\ud569\ub2c8\ub2e4. \ub530\ub77c\uc11c Ray \ud074\ub7ec\uc2a4\ud130\uc758 \uc548\uc815\uc131\uacfc \ubd84\uc0b0\uc131 \ud655\ubcf4\ub97c \uc704\ud574 \uae30\ubcf8\uc801\uc73c\ub85c Ray Autoscaler\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc77c\ubc18\uc801\uc785\ub2c8\ub2e4.</p>"},{"location":"kuberay/architecture/#crd-webhook","title":"CRD Webhook","text":"<ul> <li>\uc720\uc800\uac00 \uc81c\ucd9c\ud55c CR\uc758 \uc2a4\ud399 \uc720\ud6a8\uc131(\ud544\uc218 \ud544\ub4dc, \ud615\uc2dd \ub4f1)\uc744 \uc11c\ubc84 \uce21\uc5d0\uc11c \uac80\uc0ac\ud569\ub2c8\ub2e4.</li> <li>\uc624\ub958\uac00 \uc788\ub294 CR\uc774 \uc801\uc6a9\ub418\uc9c0 \uc54a\ub3c4\ub85d \uc0ac\uc804 \ucc28\ub2e8\ud558\ub294 \uae30\ub2a5 \uc218\ud589</li> </ul>"},{"location":"kuberay/architecture/#_3","title":"\ub370\uc774\ud130 \ud750\ub984","text":"<ol> <li>\uc0ac\uc6a9\uc790\uac00 <code>RayCluster</code>, <code>RayService</code>, <code>RayJob</code> \ub9ac\uc18c\uc2a4\ub97c \uc815\uc758\ud574 API \uc11c\ubc84\uc5d0 \ub4f1\ub85d</li> <li>\ucee8\ud2b8\ub864\ub7ec\ub294 \uc774\ub97c \uac10\uc9c0\ud558\uace0 \uc801\uc808\ud55c Pod, Service, PVC\ub97c \uc0dd\uc131</li> <li>Serve Deployment \ubcc0\uacbd \uc2dc Controller\ub294 \ubb34\uc911\ub2e8 \ub864\ub9c1 \uc5c5\ub370\uc774\ud2b8 \uc218\ud589</li> <li>\uc6cc\ud06c\ub85c\ub4dc \ubcc0\ud654\uc5d0 \ub530\ub77c Autoscaler\uac00 \uc6cc\ucee4 \uc218\ub97c \uc790\ub3d9 \uc870\uc808</li> <li>\uc0c1\ud0dc \ubc0f \uacb0\uacfc\ub294 Ray Dashboard \ub610\ub294 Kubernetes \ub9ac\uc18c\uc2a4 \uc0c1\ud0dc\ub85c \ud655\uc778 \uac00\ub2a5</li> </ol> <p>KubeRay \uc544\ud0a4\ud14d\ucc98\ub294 Ray\uc758 \uc720\uc5f0\ud55c \ubd84\uc0b0 \ucc98\ub9ac \ub2a5\ub825\uc744 Kubernetes\uc758 \uc120\uc5b8\ud615 \uad00\ub9ac \ubaa8\ub378\uacfc \uacb0\ud569\ud574, \uc548\uc815\uc131\uacfc \ud655\uc7a5\uc131\uc744 \ub3d9\uc2dc\uc5d0 \uc81c\uacf5\ud569\ub2c8\ub2e4. \ub2e4\uc74c \uc7a5\uc5d0\uc11c\ub294 KubeRay\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \uc8fc\uc694 CRD \ud544\ub4dc\ub97c \uc790\uc138\ud788 \uc0b4\ud3b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p>"},{"location":"kuberay/overview/","title":"4.1 KubeRay \uac1c\uc694\uc640 \uc7a5\uc810","text":"<p>KubeRay\ub294 Ray\ub97c Kubernetes \uc704\uc5d0\uc11c \uc548\uc815\uc801\uc73c\ub85c \uc6b4\uc601\ud558\uace0 \ud655\uc7a5\ud560 \uc218 \uc788\ub3c4\ub85d \ub3c4\uc640\uc8fc\ub294 \uacf5\uc2dd \uc624\ud37c\ub808\uc774\ud130 \uae30\ubc18 \uad00\ub9ac \ub3c4\uad6c\uc785\ub2c8\ub2e4. Ray \ud074\ub7ec\uc2a4\ud130\ub97c Kubernetes \ub124\uc774\ud2f0\ube0c \ubc29\uc2dd\uc73c\ub85c \uc815\uc758\ud558\uace0, \ubc30\ud3ec\ud558\uace0, \uc6b4\uc601\ud560 \uc218 \uc788\uac8c \ub9cc\ub4e4\uc5b4 \uc90d\ub2c8\ub2e4.</p>"},{"location":"kuberay/overview/#kuberay","title":"KubeRay\ub780?","text":"<p>KubeRay\ub294 Kubernetes CRD(Custom Resource Definition)\ub97c \uae30\ubc18\uc73c\ub85c \ub3d9\uc791\ud558\ub294 \ucee8\ud2b8\ub864\ub7ec\uc785\ub2c8\ub2e4. \uc0ac\uc6a9\uc790\ub294 RayCluster, RayJob, RayService \uac19\uc740 \ub9ac\uc18c\uc2a4\ub97c YAML\ub85c \uc815\uc758\ud558\uace0, KubeRay\ub294 \uc774\ub97c \uae30\ubc18\uc73c\ub85c Ray \ud074\ub7ec\uc2a4\ud130\ub97c \uc790\ub3d9\uc73c\ub85c \uc0dd\uc131, \uc5c5\ub370\uc774\ud2b8, \uad00\ub9ac\ud569\ub2c8\ub2e4.</p> <p>\ud83d\udd17 Kubernetes Operator\uc5d0 \ub300\ud574 \ub354 \uc54c\uace0 \uc2f6\ub2e4\uba74, CNCF \uacf5\uc2dd \ube14\ub85c\uadf8 \uae00\uc744 \ucc38\uace0\ud574\ubcf4\uc138\uc694: Kubernetes Operators: what are they? </p> <ul> <li>CNCF Sandbox \ud504\ub85c\uc81d\ud2b8\ub85c 2022\ub144 \uacf5\uc2dd \ucc44\ud0dd</li> <li>Ray \uacf5\uc2dd \ud300(Anyscale)\uc774 \uc801\uadf9\uc801\uc73c\ub85c \uc720\uc9c0\ubcf4\uc218</li> <li>Helm \ucc28\ud2b8, Custom Controller, Validation Webhook \ud3ec\ud568</li> </ul>"},{"location":"kuberay/overview/#_1","title":"\uc8fc\uc694 \ud2b9\uc9d5","text":"<ul> <li> <p>Kubernetes \ub124\uc774\ud2f0\ube0c \uc778\ud130\ud398\uc774\uc2a4   CRD \uc815\uc758\ub9cc\uc73c\ub85c Ray \ud074\ub7ec\uc2a4\ud130 \uad6c\uc131 \ubc0f \uc11c\ube59, \uc7a1 \uc2e4\ud589 \uac00\ub2a5</p> </li> <li> <p>\uc790\ub3d9 \ub864\ub9c1 \uc5c5\ub370\uc774\ud2b8   Serve\ub098 Cluster\uc758 \uc124\uc815 \ubcc0\uacbd \uc2dc \ubb34\uc911\ub2e8 \ub864\ub9c1 \uc5c5\ub370\uc774\ud2b8 \uc81c\uacf5</p> </li> <li> <p>Helm \uc5f0\ub3d9 \ubc0f GitOps \uc9c0\uc6d0   Helm \ucc28\ud2b8\ub85c \uc124\uce58 \uac00\ub2a5\ud558\uba70 ArgoCD, Flux \ub4f1\uacfc \ud1b5\ud569\ud558\uc5ec GitOps \uc6b4\uc601 \uac00\ub2a5</p> </li> <li> <p>Multi-Tenant \ud658\uacbd \uc9c0\uc6d0   \ub124\uc784\uc2a4\ud398\uc774\uc2a4 \ubd84\ub9ac, \ub9ac\uc18c\uc2a4 \ucffc\ud130\ub97c \ud1b5\ud55c \uba40\ud2f0 \ud14c\ub10c\uc2dc \uad6c\uc131 \uac00\ub2a5</p> </li> <li> <p>Autoscaler \ub0b4\uc7a5 \uc9c0\uc6d0   \uc6cc\ucee4 \ub178\ub4dc \uc218\ub97c workload \uae30\ubc18\uc73c\ub85c \uc790\ub3d9 \uc870\uc808 (Karpenter \ub4f1\uacfc \ud1b5\ud569 \uac00\ub2a5)</p> </li> </ul>"},{"location":"kuberay/overview/#_2","title":"\uc0ac\uc6a9 \uc0ac\ub840","text":"<ul> <li> <p>\uba38\uc2e0\ub7ec\ub2dd \ud50c\ub7ab\ud3fc   Ray \uae30\ubc18 \ubd84\uc0b0 \ud559\uc2b5, \ud558\uc774\ud37c\ud30c\ub77c\ubbf8\ud130 \ud29c\ub2dd, \uc11c\ube59 \ud30c\uc774\ud504\ub77c\uc778\uc744 \ud1b5\ud569 \uc6b4\uc601</p> </li> <li> <p>\uc0b0\uc5c5 \ub370\uc774\ud130 \ud30c\uc774\ud504\ub77c\uc778   Ray Serve\ub97c \ud1b5\ud574 \uc2e4\uc2dc\uac04 \uc608\uce21 API \uc81c\uacf5, Ray Workflow\ub85c ETL \ud30c\uc774\ud504\ub77c\uc778 \uad00\ub9ac</p> </li> </ul> <p>The experimental Ray Workflows library has been deprecated and will be removed in a future version of Ray.   \uc774\uac74 \uacf5\uc2dd \ubb38\uc11c\uc5d0\uc11c deprecated \ub418\uc5b4\uc788\uc74c, \uc0ac\uc6a9\ud558\uc9c0 \ub9d0\uc790</p> <ul> <li>R&amp;D \uc2e4\ud5d8 \ud658\uacbd   \uc5f0\uad6c\uc790\uac00 \uc790\uc2e0\uc758 \ub124\uc784\uc2a4\ud398\uc774\uc2a4\uc5d0\uc11c RayCluster\ub97c \uc628\ub514\ub9e8\ub4dc\ub85c \uc0dd\uc131\ud558\uace0 \uc2e4\ud5d8</li> </ul>"},{"location":"kuberay/overview/#_3","title":"\uae30\uc874 \uc194\ub8e8\uc158 \ub300\ube44 \uc7a5\uc810","text":"\ud56d\ubaa9 \uae30\uc874 \ubc29\ubc95 KubeRay \ubc29\uc2dd \ubc30\ud3ec \uc218\ub3d9 Ray start \uba85\ub839 CRD \uc815\uc758\ub85c \uc790\ub3d9 \uc0dd\uc131 \uad00\ub9ac Pod \uc218\ub3d9 \uad00\ub9ac \ucee8\ud2b8\ub864\ub7ec\uac00 \uc790\ub3d9 \uc870\uc815 \ud655\uc7a5\uc131 \uc624\ud1a0\uc2a4\ucf00\uc77c\ub9c1 \uc9c1\uc811 \uad6c\ud604 \ud544\uc694 \ub0b4\uc7a5 Autoscaler + K8s \uc2a4\ucf00\uc904\ub7ec \uc5f0\uacc4 \uc5c5\ub370\uc774\ud2b8 \uc911\ub2e8 \ud6c4 \uc7ac\ubc30\ud3ec \ub864\ub9c1 \uc5c5\ub370\uc774\ud2b8 \uc6b4\uc601 \ub3c4\uad6c \ubcc4\ub3c4 \uc124\uc815 \ud544\uc694 Helm + GitOps \uc5f0\ub3d9 \uac00\ub2a5 <p>KubeRay\ub294 Ray\uc758 \uac15\ub825\ud55c \ubd84\uc0b0 \ucef4\ud4e8\ud305 \ub2a5\ub825\uc744 Kubernetes\uc758 \uc720\uc5f0\ud55c \uad00\ub9ac\uc131\uacfc \uacb0\ud569\ud574, \uc2e4\ubb34\uc5d0\uc11c \uc0ac\uc6a9 \uac00\ub2a5\ud55c \uac15\ub825\ud55c \ud50c\ub7ab\ud3fc\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \ub2e4\uc74c \uc7a5\uc5d0\uc11c\ub294 KubeRay\uc758 \uc544\ud0a4\ud14d\ucc98\ub97c \uc880 \ub354 \uae4a\uc774 \uc788\uac8c \uc0b4\ud3b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p>"},{"location":"kuberay/raycluster-crd/","title":"4.3 RayCluster CRD \uc138\ubd80 \ud544\ub4dc","text":"<p>KubeRay\uc5d0\uc11c RayCluster\ub294 \ud074\ub7ec\uc2a4\ud130 \uc804\uccb4\ub97c \uc120\uc5b8\uc801\uc73c\ub85c \uad6c\uc131\ud560 \uc218 \uc788\ub3c4\ub85d \ud574\uc8fc\ub294 Custom Resource Definition(CRD)\uc785\ub2c8\ub2e4. \uc774 \ubb38\uc11c\uc5d0\uc11c\ub294 RayCluster \ub9ac\uc18c\uc2a4\uc5d0\uc11c \uc790\uc8fc \uc0ac\uc6a9\ub418\ub294 \uc8fc\uc694 \ud544\ub4dc\ub4e4\uc744 \uc124\uba85\ud558\uace0, \uc608\uc81c \ub9e4\ub2c8\ud398\uc2a4\ud2b8\uc640 \uace0\uae09 \uc124\uc815\ub3c4 \ud568\uaed8 \uc18c\uac1c\ud569\ub2c8\ub2e4.</p>"},{"location":"kuberay/raycluster-crd/#raycluster-crd","title":"RayCluster CRD \uac1c\uc694","text":"<p>RayCluster\ub294 Head \ub178\ub4dc\uc640 \ud558\ub098 \uc774\uc0c1\uc758 Worker \ub178\ub4dc \uadf8\ub8f9\uc744 \uc815\uc758\ud560 \uc218 \uc788\uc73c\uba70, \uac01 \ub178\ub4dc \uadf8\ub8f9\uc758 \ub9ac\uc18c\uc2a4, \ub808\uc774\ube14, \ud658\uacbd\ubcc0\uc218, \uc2dc\uc791 \ud30c\ub77c\ubbf8\ud130 \ub4f1\uc744 \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c autoscaling, volume mount, affinity \uac19\uc740 Kubernetes \uc124\uc815\ub3c4 \ud568\uaed8 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <pre><code>apiVersion: ray.io/v1\nkind: RayCluster\nmetadata:\n  name: example-cluster\nspec:\n  headGroupSpec:\n    ...\n  workerGroupSpecs:\n    ...\n</code></pre>"},{"location":"kuberay/raycluster-crd/#_1","title":"\uc8fc\uc694 \uc2a4\ud399","text":""},{"location":"kuberay/raycluster-crd/#_2","title":"\ud5e4\ub4dc \uadf8\ub8f9 \uc124\uc815","text":"<p><code>headGroupSpec</code>\uc740 \ud074\ub7ec\uc2a4\ud130\uc758 \uc911\uc2ec\uc774 \ub418\ub294 Head \ub178\ub4dc \uc124\uc815\uc744 \uc815\uc758\ud569\ub2c8\ub2e4.</p> <pre><code>headGroupSpec:\n  rayStartParams:\n    dashboard-host: \"0.0.0.0\"\n    num-cpus: \"2\"\n  template:\n    spec:\n      containers:\n        - name: ray-head\n          image: rayproject/ray:2.9.0\n          ports:\n            - containerPort: 6379\n</code></pre> <ul> <li><code>rayStartParams</code>: <code>ray start --head</code> \uba85\ub839\uc5d0 \ub118\uae38 \ud30c\ub77c\ubbf8\ud130 \uc815\uc758</li> <li><code>template.spec.containers.image</code>: \uc0ac\uc6a9\ud560 Ray \uc774\ubbf8\uc9c0</li> <li><code>ports</code>: Head \ub178\ub4dc\uc758 Redis \ud3ec\ud2b8 \ub4f1 \ub178\ucd9c\ud560 \ud3ec\ud2b8 \uc124\uc815</li> </ul>"},{"location":"kuberay/raycluster-crd/#_3","title":"\uc6cc\ucee4 \uadf8\ub8f9 \uc124\uc815","text":"<p><code>workerGroupSpecs</code>\ub294 \ud558\ub098 \uc774\uc0c1\uc758 \uc6cc\ucee4 \uadf8\ub8f9\uc744 \uc815\uc758\ud558\uba70, \uc6cc\ucee4 \ub178\ub4dc \uc218, \uc790\uc6d0, \uc2a4\ucf00\uc77c\ub9c1 \uc815\ucc45 \ub4f1\uc744 \uac1c\ubcc4\ub85c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <pre><code>workerGroupSpecs:\n  - groupName: worker-group\n    replicas: 2\n    rayStartParams:\n      num-cpus: \"4\"\n    template:\n      spec:\n        containers:\n          - name: ray-worker\n            image: rayproject/ray:2.9.0\n</code></pre> <ul> <li><code>replicas</code>: \uc6cc\ucee4 \ub178\ub4dc \ucd08\uae30 \uac1c\uc218</li> <li><code>groupName</code>: \uac01 \uc6cc\ucee4 \uadf8\ub8f9\uc758 \uace0\uc720 \uc2dd\ubcc4\uc790</li> <li><code>rayStartParams</code>: <code>ray start --address=...</code>\uc5d0 \ub118\uae38 \ud30c\ub77c\ubbf8\ud130</li> </ul>"},{"location":"kuberay/raycluster-crd/#_4","title":"\uc624\ud1a0\uc2a4\ucf00\uc77c\ub9c1 \uc124\uc815","text":"<p>WorkerGroup \ub2e8\uc704\ub85c Autoscaling\uc744 \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <pre><code>minReplicas: 1\nmaxReplicas: 5\n</code></pre> <ul> <li>workload \uc99d\uac00 \uc2dc, \uc6cc\ucee4 \uc218\uac00 <code>maxReplicas</code>\uae4c\uc9c0 \uc790\ub3d9 \uc99d\uac00 \uac00\ub2a5</li> <li>workload \uac10\uc18c \uc2dc, <code>minReplicas</code>\uae4c\uc9c0 \uc790\ub3d9 \ucd95\uc18c</li> </ul> <p>Note: Ray\uc758 \ub0b4\ubd80 Autoscaler\uac00 \uc791\ub3d9\ud558\uba70 Kubernetes HPA\uc640\ub294 \ubcc4\ub3c4\uc785\ub2c8\ub2e4.</p>"},{"location":"kuberay/raycluster-crd/#_5","title":"\uc608\uc81c \ub9e4\ub2c8\ud398\uc2a4\ud2b8","text":"<pre><code>apiVersion: ray.io/v1\nkind: RayCluster\nmetadata:\n  name: sample-ray-cluster\nspec:\n  headGroupSpec:\n    rayStartParams:\n      dashboard-host: \"0.0.0.0\"\n    template:\n      spec:\n        containers:\n          - name: ray-head\n            image: rayproject/ray:2.9.0\n  workerGroupSpecs:\n    - groupName: workers\n      replicas: 2\n      minReplicas: 1\n      maxReplicas: 5\n      rayStartParams:\n        num-cpus: \"2\"\n      template:\n        spec:\n          containers:\n            - name: ray-worker\n              image: rayproject/ray:2.9.0\n</code></pre>"},{"location":"kuberay/raycluster-crd/#_6","title":"\uace0\uae09 \uc124\uc815 \uc635\uc158","text":"<ul> <li>volumeMounts / volumes: \ub370\uc774\ud130 \ub514\uc2a4\ud06c \uc5f0\uacb0 (\uc608: PVC)</li> <li>nodeSelector / affinity: \ud2b9\uc815 \ub178\ub4dc\uc5d0 \uc2a4\ucf00\uc904\ub9c1 \uc81c\uc5b4</li> <li>env / envFrom: \ud658\uacbd\ubcc0\uc218 \uc8fc\uc785</li> <li>lifecycle / initContainers: Pod \ucd08\uae30\ud654 \ubc0f \uc885\ub8cc \uc804\ud6c4 \ucc98\ub9ac</li> </ul> <p>RayCluster CRD\ub97c \uc774\ud574\ud558\uba74 Helm \uc5c6\uc774\ub3c4 YAML\ub9cc\uc73c\ub85c Ray \ud074\ub7ec\uc2a4\ud130\ub97c \uc790\uc720\ub86d\uac8c \uad6c\uc131\ud558\uace0 \ud655\uc7a5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc74c \uc7a5\uc5d0\uc11c\ub294 RayService CRD\uc5d0 \ub300\ud574 \uc54c\uc544\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p>"},{"location":"kuberay/rayjob-crd/","title":"4.5 RayJob CRD","text":"<p>RayJob\uc740 \uc77c\ud68c\uc131(batch) \uc791\uc5c5\uc744 Ray \ud074\ub7ec\uc2a4\ud130\uc5d0\uc11c \uc2e4\ud589\ud558\uae30 \uc704\ud55c CRD(Custom Resource Definition)\uc785\ub2c8\ub2e4. \uba38\uc2e0\ub7ec\ub2dd \ud559\uc2b5, \ub370\uc774\ud130 \ucc98\ub9ac, \uc2a4\ud06c\ub9bd\ud2b8 \uc2e4\ud589 \ub4f1 \ub2e4\uc591\ud55c \ub2e8\ubc1c\uc131 \uc791\uc5c5\uc744 Kubernetes \uc704\uc5d0\uc11c \uc790\ub3d9\ud654\ud560 \uc218 \uc788\ub3c4\ub85d \ub3c4\uc640\uc90d\ub2c8\ub2e4.</p>"},{"location":"kuberay/rayjob-crd/#rayjob-crd","title":"RayJob CRD \uac1c\uc694","text":"<ul> <li>\ud074\ub7ec\uc2a4\ud130\uac00 \uc790\ub3d9\uc73c\ub85c \uc0dd\uc131\ub418\uace0, \uc791\uc5c5 \uc2e4\ud589 \ud6c4 \uc790\ub3d9 \uc885\ub8cc \uac00\ub2a5</li> <li>\uae30\uc874 \ud074\ub7ec\uc2a4\ud130\uc5d0 \ubd99\uc5b4\uc11c \uc2e4\ud589\ud558\uac70\ub098, \uc0c8\ub85c\uc6b4 \ud074\ub7ec\uc2a4\ud130 \uc0dd\uc131 \uac00\ub2a5</li> <li>Python \uae30\ubc18\uc758 Job \uc2a4\ud06c\ub9bd\ud2b8\ub97c container image\uc640 \ud568\uaed8 \uc81c\ucd9c</li> <li>\uc791\uc5c5 \uc0c1\ud0dc(JobStatus)\ub97c \ud1b5\ud574 \uc131\uacf5/\uc2e4\ud328 \uc5ec\ubd80 \ucd94\uc801</li> </ul>"},{"location":"kuberay/rayjob-crd/#_1","title":"\uc8fc\uc694 \uc2a4\ud399","text":""},{"location":"kuberay/rayjob-crd/#_2","title":"\uc791\uc5c5 \uc81c\ucd9c \uc124\uc815","text":"<pre><code>spec:\n  entrypoint: \"python script.py\"\n  runtimeEnv:\n    ...\n  rayClusterSpec:\n    ...\n</code></pre> <ul> <li><code>entrypoint</code>: \uc791\uc5c5 \uc2e4\ud589 \uba85\ub839. Python \uc2a4\ud06c\ub9bd\ud2b8 \ub610\ub294 \uba85\ub839\uc5b4</li> <li><code>runtimeEnv</code>: \ud544\uc694\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac, \ud328\ud0a4\uc9c0 \ub4f1\uc744 \uc815\uc758 (pip, env \ub4f1)</li> <li><code>rayClusterSpec</code>: \uc791\uc5c5 \uc2e4\ud589\uc5d0 \uc0ac\uc6a9\ud560 RayCluster \uc815\uc758</li> </ul>"},{"location":"kuberay/rayjob-crd/#_3","title":"\ub7f0\ud0c0\uc784 \ud658\uacbd","text":"<pre><code>runtimeEnv:\n  workingDir: \"s3://my-bucket/job-code\"\n  pip:\n    - pandas\n    - scikit-learn\n  envVars:\n    DATA_PATH: \"/mnt/data\"\n</code></pre> <ul> <li><code>workingDir</code>: \uc791\uc5c5 \uc18c\uc2a4\ucf54\ub4dc \uc704\uce58 (s3, http, PVC \ub4f1)</li> <li><code>pip</code>: \ud544\uc694\ud55c Python \ud328\ud0a4\uc9c0 \ub9ac\uc2a4\ud2b8</li> <li><code>envVars</code>: \uc2e4\ud589 \uc2dc \uc0ac\uc6a9\ub420 \ud658\uacbd\ubcc0\uc218\ub4e4</li> </ul>"},{"location":"kuberay/rayjob-crd/#_4","title":"\uc758\uc874\uc131 \uad00\ub9ac","text":"<ul> <li><code>initContainers</code>\ub098 <code>volumeMounts</code>\ub97c \ud65c\uc6a9\ud574 \ub370\uc774\ud130 \ubc0f \ubaa8\ub378 \uc0ac\uc804 \uc900\ube44 \uac00\ub2a5</li> <li>PVC(\uc601\uad6c \ubcfc\ub968)\uc640 \uc5f0\ub3d9\ud558\uc5ec \ub370\uc774\ud130 \uc785\ub825/\ucd9c\ub825 \ucc98\ub9ac \uac00\ub2a5</li> </ul>"},{"location":"kuberay/rayjob-crd/#_5","title":"\uc608\uc81c \ub9e4\ub2c8\ud398\uc2a4\ud2b8","text":"<pre><code>apiVersion: ray.io/v1\nkind: RayJob\nmetadata:\n  name: sample-ray-job\nspec:\n  entrypoint: \"python train.py\"\n  runtimeEnv:\n    workingDir: \"s3://ml-jobs/train-job\"\n    pip:\n      - xgboost\n      - numpy\n    envVars:\n      MODEL_DIR: \"/output\"\n  rayClusterSpec:\n    headGroupSpec:\n      rayStartParams:\n        dashboard-host: \"0.0.0.0\"\n      template:\n        spec:\n          containers:\n            - name: ray-head\n              image: rayproject/ray:2.9.0\n    workerGroupSpecs:\n      - groupName: workers\n        replicas: 2\n        rayStartParams:\n          num-cpus: \"2\"\n        template:\n          spec:\n            containers:\n              - name: ray-worker\n                image: rayproject/ray:2.9.0\n</code></pre>"},{"location":"kuberay/rayjob-crd/#_6","title":"\uc791\uc5c5 \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ub514\ubc84\uae45","text":"<ul> <li><code>kubectl get rayjob</code> \uc73c\ub85c \uc804\uccb4 \uc791\uc5c5 \ubaa9\ub85d \ud655\uc778</li> <li><code>status.jobStatus</code> \ud544\ub4dc\ub85c \uc2e4\ud589 \uacb0\uacfc \ud655\uc778 (SUCCEEDED / FAILED / RUNNING)</li> <li>\ub85c\uadf8 \ud655\uc778: <code>kubectl logs job-pod-name</code></li> <li>Ray Dashboard\uc5d0\uc11c\ub3c4 \uc791\uc5c5 \uc0c1\ud0dc, \ub9ac\uc18c\uc2a4 \uc0ac\uc6a9\ub7c9 \ud655\uc778 \uac00\ub2a5</li> </ul> <p>RayJob\uc740 \ub2e8\ubc1c\uc131 \uc2e4\ud589\uc774 \ud544\uc694\ud55c \ubaa8\ub4e0 Ray \uae30\ubc18 \uc791\uc5c5\uc5d0 \uc801\ud569\ud55c \ub3c4\uad6c\uc785\ub2c8\ub2e4. \ubc18\ubcf5\uc801\uc778 \uc2e4\ud5d8, \ub370\uc774\ud130 \ucc98\ub9ac \ubc30\uce58, \ubaa8\ub378 \ud559\uc2b5 \uc790\ub3d9\ud654 \ub4f1\uc5d0 \ud6a8\uacfc\uc801\uc73c\ub85c \ud65c\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"kuberay/rayservice-crd/","title":"4.4 RayService CRD","text":"<p>RayService\ub294 Ray Serve \uae30\ubc18\uc758 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 Kubernetes\uc5d0\uc11c \uc9c0\uc18d\uc801\uc774\uace0 \uc548\uc815\uc801\uc73c\ub85c \uc6b4\uc601\ud560 \uc218 \uc788\uac8c \ub3c4\uc640\uc8fc\ub294 CRD\uc785\ub2c8\ub2e4. RayService\ub97c \uc0ac\uc6a9\ud558\uba74 Serve Deployment\uac00 \ud074\ub7ec\uc2a4\ud130 \ub0b4\uc5d0\uc11c \uc790\ub3d9 \ubcf5\uad6c\ub418\uace0, \uc124\uc815 \ubcc0\uacbd \uc2dc \ub864\ub9c1 \uc5c5\ub370\uc774\ud2b8\uac00 \uc801\uc6a9\ub418\uba70, \uc11c\ube44\uc2a4 \uc0c1\ud0dc\ub97c \uc9c0\uc18d\uc801\uc73c\ub85c \ucd94\uc801\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"kuberay/rayservice-crd/#rayservice-crd","title":"RayService CRD \uac1c\uc694","text":"<ul> <li>Serve \uae30\ubc18 \ubaa8\ub378 \ub610\ub294 API\ub97c \uc548\uc815\uc801\uc73c\ub85c \uc11c\ube59</li> <li>Deployment \uc124\uc815\uc744 \uc120\uc5b8\uc801\uc73c\ub85c \uad6c\uc131</li> <li>\uc0c1\ud0dc \ucd94\uc801 \ubc0f \uc790\ub3d9 \ubcf5\uad6c \uba54\ucee4\ub2c8\uc998 \ud3ec\ud568</li> <li>\uc124\uc815 \ubcc0\uacbd \uc2dc \ubb34\uc911\ub2e8 \ub864\ub9c1 \uc5c5\ub370\uc774\ud2b8 \uc81c\uacf5</li> </ul> <p>RayCluster\uc640 \ub2ec\ub9ac RayService\ub294 \ud074\ub7ec\uc2a4\ud130 \uc0dd\uc131\uc744 \ud3ec\ud568\ud558\uba70 Serve Deployment\uae4c\uc9c0 \ud568\uaed8 \uad00\ub9ac\ud569\ub2c8\ub2e4. \uc989, Serve \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc6b4\uc601\uc758 \uc804\uccb4 \uc218\uba85 \uc8fc\uae30\ub97c \ucc45\uc784\uc9c0\ub294 CRD\uc785\ub2c8\ub2e4.</p>"},{"location":"kuberay/rayservice-crd/#_1","title":"\uc8fc\uc694 \uc2a4\ud399","text":""},{"location":"kuberay/rayservice-crd/#_2","title":"\uc11c\ube44\uc2a4 \uad6c\uc131","text":"<pre><code>spec:\n  rayClusterConfig: # \ub0b4\ubd80\uc801\uc73c\ub85c \uc0dd\uc131\ub420 RayCluster \uc815\uc758\n    ...\n  serveConfigV2: # Serve Deployment \uc815\uc758\n    importPath: \"app.MyModel\"\n    runtimeEnv:\n      workingDir: \"s3://my-bucket/code\"\n      pip:\n        - scikit-learn\n    deployments:\n      - name: MyModel\n        numReplicas: 2\n        routePrefix: \"/predict\"\n</code></pre> <ul> <li><code>rayClusterConfig</code>: \ub0b4\ubd80\uc5d0 Head/Worker \ub178\ub4dc\ub97c \ud3ec\ud568\ud558\ub294 RayCluster \uc815\uc758</li> <li><code>serveConfigV2</code>: Serve \uc571 \ubc30\ud3ec \uc124\uc815. importPath \uae30\uc900\uc73c\ub85c \uc0ac\uc6a9\uc790 \ud074\ub798\uc2a4 \uc2e4\ud589</li> <li><code>numReplicas</code>: Replica \uc218 \uc790\ub3d9 \uc870\uc808 \uac00\ub2a5</li> <li><code>routePrefix</code>: \uc694\uccad \uacbd\ub85c \ub9e4\ud551</li> </ul>"},{"location":"kuberay/rayservice-crd/#_3","title":"\ubc30\ud3ec \uc804\ub7b5","text":"<p>RayService\ub294 Serve Deployment \ubcc0\uacbd \uc2dc \uae30\uc874 \uc778\uc2a4\ud134\uc2a4\ub97c \uc810\uc9c4\uc801\uc73c\ub85c \uc885\ub8cc\ud558\uace0 \uc0c8\ub85c \uc2dc\uc791\ud558\ub294 \ubc29\uc2dd\uc758 \ub864\ub9c1 \uc5c5\ub370\uc774\ud2b8\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.</p> <ul> <li>\ubcc0\uacbd \uc2dc \uc0c8 Replica\uac00 \uba3c\uc800 \uc900\ube44\ub418\uace0,</li> <li>\uae30\uc874 Replica\uac00 \uc885\ub8cc\ub428</li> <li>\uc774 \uacfc\uc815\uc5d0\uc11c \uc11c\ube44\uc2a4 \uc911\ub2e8 \uc5c6\uc774 \ud2b8\ub798\ud53d \ucc98\ub9ac \uac00\ub2a5</li> </ul>"},{"location":"kuberay/rayservice-crd/#_4","title":"\uc790\ub3d9 \ubcf5\uad6c","text":"<p>RayService\ub294 Controller\ub97c \ud1b5\ud574 \ud074\ub7ec\uc2a4\ud130 \ubc0f Serve \uc0c1\ud0dc\ub97c \uc9c0\uc18d\uc801\uc73c\ub85c \uac10\uc2dc\ud558\uba70, \ub2e4\uc74c\uacfc \uac19\uc740 \uacbd\uc6b0 \uc790\ub3d9 \ubcf5\uad6c\ub97c \uc218\ud589\ud569\ub2c8\ub2e4:</p> <ul> <li>Pod Crash \ub610\ub294 Unhealthy \uc0c1\ud0dc \ud0d0\uc9c0</li> <li>Serve Deployment\uac00 \ube44\uc815\uc0c1 \uc0c1\ud0dc\ub85c \uc804\ud658\ub41c \uacbd\uc6b0</li> <li>GCS \uc5f0\uacb0 \uc2e4\ud328 \ub610\ub294 Actor \uc2e4\ud328</li> </ul>"},{"location":"kuberay/rayservice-crd/#_5","title":"\uc608\uc81c \ub9e4\ub2c8\ud398\uc2a4\ud2b8","text":"<pre><code>apiVersion: ray.io/v1\nkind: RayService\nmetadata:\n  name: sample-ray-service\nspec:\n  rayClusterConfig:\n    headGroupSpec:\n      rayStartParams:\n        dashboard-host: \"0.0.0.0\"\n      template:\n        spec:\n          containers:\n            - name: ray-head\n              image: rayproject/ray:2.9.0\n    workerGroupSpecs:\n      - groupName: worker\n        replicas: 2\n        rayStartParams:\n          num-cpus: \"2\"\n        template:\n          spec:\n            containers:\n              - name: ray-worker\n                image: rayproject/ray:2.9.0\n  serveConfigV2:\n    importPath: \"app.MyModel\"\n    runtimeEnv:\n      workingDir: \"s3://my-bucket/code\"\n      pip:\n        - scikit-learn\n    deployments:\n      - name: MyModel\n        numReplicas: 2\n        routePrefix: \"/predict\"\n</code></pre>"},{"location":"kuberay/rayservice-crd/#_6","title":"\ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ub85c\uae45","text":"<ul> <li>Ray Dashboard\ub97c \ud1b5\ud574 Serve Deployment\uc758 \uc0c1\ud0dc \ud655\uc778 \uac00\ub2a5</li> <li>Kubernetes Event \ubc0f Pod \uc0c1\ud0dc\ub97c \ud1b5\ud574 \uc624\ub958 \ubc0f \uc7ac\uc2dc\uc791 \uc6d0\uc778 \ud30c\uc545 \uac00\ub2a5</li> <li>Prometheus \ubc0f Grafana\ub97c \ud1b5\ud574 \ud2b8\ub798\ud53d, Replica \uc218, \ucc98\ub9ac \uc2dc\uac04 \ub4f1\uc744 \uc2dc\uac01\ud654 \uac00\ub2a5</li> </ul> <p>RayService\ub294 \uc11c\ube59 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 Kubernetes \uc0c1\uc5d0\uc11c \uc548\uc815\uc801\uc73c\ub85c \uc6b4\uc601\ud558\uae30 \uc704\ud55c \ud575\uc2ec \uad6c\uc131 \uc694\uc18c\uc785\ub2c8\ub2e4. \ud2b9\ud788 \ubaa8\ub378 \uc11c\ube59, API \uac8c\uc774\ud2b8\uc6e8\uc774, \uc2e4\uc2dc\uac04 \ucd94\ub860 \uc2dc\uc2a4\ud15c\uc5d0\uc11c \ub9e4\uc6b0 \uc720\uc6a9\ud558\uac8c \uc0ac\uc6a9\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"services/cluster/","title":"3.1 Ray Cluster \u2015 \ud5e4\ub4dc \ub178\ub4dc\u00b7\uc6cc\ucee4 \ub178\ub4dc \uad6c\uc870","text":"<p>Ray \ud074\ub7ec\uc2a4\ud130\ub294 \uae30\ubcf8\uc801\uc73c\ub85c \ud5e4\ub4dc \ub178\ub4dc(Head Node)\uc640 \uc6cc\ucee4 \ub178\ub4dc(Worker Node)\ub85c \uad6c\uc131\ub429\ub2c8\ub2e4. \uc774 \uad6c\uc870\ub294 Ray\uc758 \ubd84\uc0b0 \ucc98\ub9ac \ub2a5\ub825\uc744 \ub4b7\ubc1b\uce68\ud558\ub294 \ud575\uc2ec\uc801\uc778 \uae30\ubc18\uc785\ub2c8\ub2e4. \uc774 \uc7a5\uc5d0\uc11c\ub294 \uac01 \ub178\ub4dc\uac00 \uc5b4\ub5a4 \uc5ed\ud560\uc744 \ud558\ub294\uc9c0, \uc5b4\ub5a4 \uc11c\ube44\uc2a4\ub4e4\uc774 \uc791\ub3d9\ud558\ub294\uc9c0, \uadf8\ub9ac\uace0 \ud074\ub7ec\uc2a4\ud130\ub97c \uc5b4\ub5bb\uac8c \uc124\uc815\ud560 \uc218 \uc788\ub294\uc9c0\ub97c \uc54c\uc544\ubd05\ub2c8\ub2e4.</p>"},{"location":"services/cluster/#_1","title":"\uac1c\uc694","text":"<p>Ray \ud074\ub7ec\uc2a4\ud130\ub294 \uc911\uc559\uc5d0\uc11c \ubaa8\ub4e0 \uc791\uc5c5\uc744 \uad00\ub9ac\ud558\ub294 \ud5e4\ub4dc \ub178\ub4dc\uc640, \uc2e4\uc81c \uc791\uc5c5\uc744 \uc218\ud589\ud558\ub294 \uc6cc\ucee4 \ub178\ub4dc\ub4e4\ub85c \uad6c\uc131\ub429\ub2c8\ub2e4.</p> <ul> <li>\ud5e4\ub4dc \ub178\ub4dc\ub294 \ud074\ub7ec\uc2a4\ud130 \uc804\uccb4\uc758 \uc0c1\ud0dc\ub97c \uad00\ub9ac\ud558\uace0, \ub300\uc2dc\ubcf4\ub4dc\uc640 GCS(Global Control Store), \uc2a4\ucf00\uc904\ub7ec\ub97c \ud3ec\ud568\ud569\ub2c8\ub2e4.</li> <li>\uc6cc\ucee4 \ub178\ub4dc\ub294 \uc2e4\uc81c\ub85c Task\ub098 Actor\ub97c \uc2e4\ud589\ud558\ub294 Worker \ud504\ub85c\uc138\uc2a4\ub97c \ud3ec\ud568\ud569\ub2c8\ub2e4.</li> <li>\ubaa8\ub4e0 \ub178\ub4dc\ub294 <code>Raylet</code>\uc774\ub77c\ub294 \ub85c\uceec \uc5d0\uc774\uc804\ud2b8\ub97c \ud1b5\ud574 \uc790\uc6d0\uc744 \ubcf4\uace0\ud558\uace0, \uc791\uc5c5\uc744 \uc218\uc2e0\ud569\ub2c8\ub2e4.</li> </ul> <p>\uc774\ub7ec\ud55c \uad6c\uc870\ub294 \uc218\ud3c9 \ud655\uc7a5\uc774 \uc6a9\uc774\ud558\uba70, \ub2e4\uc591\ud55c \uc6cc\ud06c\ub85c\ub4dc\ub97c \uc548\uc815\uc801\uc73c\ub85c \ubd84\uc0b0 \ucc98\ub9ac\ud560 \uc218 \uc788\ub3c4\ub85d \ud574\uc90d\ub2c8\ub2e4.</p>"},{"location":"services/cluster/#_2","title":"\ud5e4\ub4dc \ub178\ub4dc","text":"<p>\ud5e4\ub4dc \ub178\ub4dc\ub294 Ray \ud074\ub7ec\uc2a4\ud130\uc758 \uc911\ucd94 \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4.</p> <ul> <li>\ud074\ub7ec\uc2a4\ud130 \ub0b4 \ub178\ub4dc \uc0c1\ud0dc \ubc0f \uc790\uc6d0 \ubaa8\ub2c8\ud130\ub9c1</li> <li>Task \ubc0f Actor \uc2a4\ucf00\uc904\ub9c1 \uacb0\uc815</li> <li>GCS, Dashboard, Autoscaler \ub4f1 \uc8fc\uc694 \ub7f0\ud0c0\uc784 \uc11c\ube44\uc2a4 \ud3ec\ud568</li> </ul> <p>\ub610\ud55c \uc0ac\uc6a9\uc790\ub294 \ud5e4\ub4dc \ub178\ub4dc\uc5d0 \uc811\uc18d\ud574 Ray CLI\ub098 Python API\ub97c \ud1b5\ud574 \ud074\ub7ec\uc2a4\ud130\uc5d0 \uc791\uc5c5\uc744 \uc81c\ucd9c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc989, \ud5e4\ub4dc \ub178\ub4dc\ub294 \uba85\ub839\uc758 \uc2dc\uc791\uc810\uc774\uc790 \ud074\ub7ec\uc2a4\ud130\uc758 \ucee8\ud2b8\ub864 \uc13c\ud130\uc785\ub2c8\ub2e4.</p>"},{"location":"services/cluster/#_3","title":"\uc6cc\ucee4 \ub178\ub4dc","text":"<p>\uc6cc\ucee4 \ub178\ub4dc\ub294 \ud074\ub7ec\uc2a4\ud130 \ub0b4\uc5d0\uc11c \uc2e4\uc81c \uc791\uc5c5(Task/Actor)\uc744 \uc2e4\ud589\ud558\ub294 \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4.</p> <ul> <li>Python, Java \ub4f1\uc758 Worker \ud504\ub85c\uc138\uc2a4\uac00 Task/Actor\ub97c \ubcd1\ub82c\ub85c \uc2e4\ud589</li> <li>Raylet\uc744 \ud1b5\ud574 \ud5e4\ub4dc \ub178\ub4dc\uc640 \ud1b5\uc2e0\ud558\uba70 \uc791\uc5c5\uc744 \uc218\uc2e0</li> <li>Object Store\ub97c \ud1b5\ud574 \ub370\uc774\ud130\ub97c \uacf5\uc720\ud558\uac70\ub098 \uc804\ub2ec</li> </ul> <p>\uc5ec\ub7ec \uc6cc\ucee4 \ub178\ub4dc\ub97c \ucd94\uac00\ud568\uc73c\ub85c\uc368 \ud074\ub7ec\uc2a4\ud130\ub294 \uc190\uc27d\uac8c \ud655\uc7a5\ud560 \uc218 \uc788\uace0, \uc791\uc5c5 \ucc98\ub9ac \ub2a5\ub825\ub3c4 \ud568\uaed8 \uc99d\uac00\ud569\ub2c8\ub2e4.</p>"},{"location":"services/cluster/#_4","title":"\ud074\ub7ec\uc2a4\ud130 \uc124\uc815 \uc608\uc2dc","text":"<p>Ray\ub97c \uc9c1\uc811 \uc2e4\ud589\ud558\uac70\ub098 KubeRay\ub97c \ud1b5\ud574 \ubc30\ud3ec\ud560 \ub54c\ub294 Head/Worker \uc5ed\ud560\uc744 \uba85\ud655\ud788 \uc124\uc815\ud574\uc57c \ud569\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4 <code>ray start</code> \uba85\ub839\uc744 \ud1b5\ud574 \uad6c\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <pre><code># \ud5e4\ub4dc \ub178\ub4dc \uc2dc\uc791\nray start --head --port=6379\n\n# \uc6cc\ucee4 \ub178\ub4dc \uc2dc\uc791\nray start --address='head-node-ip:6379'\n</code></pre> <p>Kubernetes \ud658\uacbd\uc5d0\uc11c\ub294 Helm Chart \ub610\ub294 RayCluster CRD\ub97c \ud1b5\ud574 \ub2e4\uc74c\uacfc \uac19\uc774 \uc815\uc758\ud569\ub2c8\ub2e4:</p> <pre><code>headGroupSpec:\n  serviceType: ClusterIP\n  rayStartParams:\n    dashboard-host: \"0.0.0.0\"\n    num-cpus: \"2\"\n\nworkerGroupSpecs:\n  - replicas: 2\n    rayStartParams:\n      num-cpus: \"4\"\n</code></pre> <p>\uc774\uc640 \uac19\uc774 \ud074\ub7ec\uc2a4\ud130\ub97c \uad6c\uc131\ud558\uba74 \ub2e4\uc591\ud55c \ud658\uacbd\uc5d0\uc11c \uc720\uc5f0\ud558\uac8c Ray\ub97c \ud655\uc7a5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"services/job/","title":"3.3 Ray Job \u2015 \ubc30\uce58\u00b7\uc2e4\ud5d8 \uc6cc\ud06c\ub85c\ub4dc \uc81c\ucd9c","text":"<p>Ray Job\uc740 \uc77c\ud68c\uc131 \uc791\uc5c5, \ubc30\uce58 \ucc98\ub9ac, \uc2e4\ud5d8\uc131 \ucf54\ub4dc \uc2e4\ud589 \ub4f1\uc5d0 \ud65c\uc6a9\ub418\ub294 \ub2e8\ubc1c\uc131(disposable) \ubd84\uc0b0 \uc791\uc5c5 \uc81c\ucd9c \uae30\ub2a5\uc785\ub2c8\ub2e4. Ray Serve\uac00 \uc7a5\uae30 \uc2e4\ud589\ub418\ub294 API \ud615\ud0dc\uc758 \uc11c\ube59\uc774\ub77c\uba74, Ray Job\uc740 \uc9e7\uc740 \uc2e4\ud589 \ub2e8\uc704\uc758 \ucf54\ub4dc \ucc98\ub9ac\uc5d0 \ucd5c\uc801\ud654\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"services/job/#_1","title":"\uac1c\uc694","text":"<ul> <li>Ray Job\uc740 Python \uc2a4\ud06c\ub9bd\ud2b8\ub97c \ud074\ub7ec\uc2a4\ud130\uc5d0 \uc81c\ucd9c\ud558\uc5ec \ubd84\uc0b0 \ucc98\ub9ac\ud558\uac8c \ud558\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4.</li> <li>\uc77c\ubc18\uc801\uc73c\ub85c \uba38\uc2e0\ub7ec\ub2dd \ud559\uc2b5, \ub370\uc774\ud130 \ucc98\ub9ac, \ud14c\uc2a4\ud2b8 \uc2e4\ud589\uacfc \uac19\uc740 \uc77c\ud68c\uc131 \uc791\uc5c5\uc5d0 \uc0ac\uc6a9\ub429\ub2c8\ub2e4.</li> <li>Ray \ud074\ub7ec\uc2a4\ud130\uac00 \uc774\ubbf8 \uc2e4\ud589 \uc911\uc778 \uc0c1\ud0dc\uc5d0\uc11c Job\uc744 \uc81c\ucd9c\ud558\uba74, \ub0b4\ubd80\uc5d0\uc11c Task/Actor \ud615\ud0dc\ub85c \uc2e4\ud589\ub429\ub2c8\ub2e4.</li> </ul>"},{"location":"services/job/#_2","title":"\uc791\uc5c5 \uc81c\ucd9c \ubc29\ubc95","text":""},{"location":"services/job/#1-python","title":"1. Python \uc2a4\ud06c\ub9bd\ud2b8 \uc791\uc131","text":"<pre><code># hello_world.py\nimport ray\n\nray.init()\n@ray.remote\ndef hello():\n    return \"Hello from Ray!\"\n\nprint(ray.get(hello.remote()))\n</code></pre>"},{"location":"services/job/#2-cli","title":"2. CLI\ub85c \uc81c\ucd9c","text":"<pre><code>ray job submit --address http://&lt;head-node-ip&gt;:8265 -- python hello_world.py\n</code></pre> <ul> <li><code>--address</code>: Ray Dashboard \uc8fc\uc18c (\uae30\ubcf8 \ud3ec\ud2b8 8265)</li> <li>Job\uc740 \ud074\ub7ec\uc2a4\ud130 \ub0b4\ubd80\uc5d0\uc11c \uc2e4\ud589\ub418\uba70 \ub85c\uadf8\uc640 \uc0c1\ud0dc \ucd94\uc801\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.</li> </ul>"},{"location":"services/job/#_3","title":"\uc791\uc5c5 \ubaa8\ub2c8\ud130\ub9c1","text":"<p>Job \uc81c\ucd9c \ud6c4 \ub2e4\uc74c\uacfc \uac19\uc774 \uc0c1\ud0dc\ub97c \uc870\ud68c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <pre><code>ray job list\nray job logs &lt;job-id&gt;\nray job stop &lt;job-id&gt;\n</code></pre> <p>\ub610\ub294 Dashboard\uc5d0\uc11c \uc2e4\uc2dc\uac04\uc73c\ub85c \uc2e4\ud589 \uc0c1\ud0dc\uc640 \ucd9c\ub825 \ub85c\uadf8\ub97c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"services/job/#_4","title":"\uc608\uc81c","text":"<p>\ub2e4\uc74c\uc740 \uc5ec\ub7ec \uac1c\uc758 \ud30c\uc77c\uc744 \ubcd1\ub82c \ucc98\ub9ac\ud558\ub294 \uc608\uc81c\uc785\ub2c8\ub2e4:</p> <pre><code># batch_processing.py\nimport ray\n\nray.init()\n\n@ray.remote\ndef process(file):\n    return f\"{file} \ucc98\ub9ac \uc644\ub8cc\"\n\nfiles = [\"a.csv\", \"b.csv\", \"c.csv\"]\nresults = ray.get([process.remote(f) for f in files])\nprint(results)\n</code></pre> <p>\uc774 \uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc81c\ucd9c\ud558\uba74, \uac01 \ud30c\uc77c \ucc98\ub9ac \uc791\uc5c5\uc774 \ubcd1\ub82c\ub85c \uc2e4\ud589\ub418\uace0 \uacb0\uacfc\uac00 \ubc18\ud658\ub429\ub2c8\ub2e4.</p> <p>Ray Job\uc740 \uc9e7\uace0 \ubc18\ubcf5\ub418\uc9c0 \uc54a\ub294 \uc791\uc5c5\uc744 \ube60\ub974\uac8c \uc2e4\ud589\ud558\uace0\uc790 \ud560 \ub54c \ub9e4\uc6b0 \uc720\uc6a9\ud55c \ub3c4\uad6c\uc785\ub2c8\ub2e4. \uc2e4\ud5d8 \ucf54\ub4dc \uc2e4\ud589, \ud30c\uc774\ud504\ub77c\uc778 \uc77c\ubd80 \ucc98\ub9ac, \ubaa8\ub378 \ud559\uc2b5 \uc2e4\ud5d8 \ub4f1\uc5d0 \uc801\ud569\ud569\ub2c8\ub2e4. \ub2e4\uc74c \uc139\uc158\uc5d0\uc11c\ub294 Ray Workflow \ubc0f Ray Data\ub97c \ud1b5\ud574 \uc880 \ub354 \ubcf5\uc7a1\ud55c \ub370\uc774\ud130 \ud750\ub984\uc744 \uad00\ub9ac\ud558\ub294 \ubc29\ubc95\uc744 \uc0b4\ud3b4\ubd05\ub2c8\ub2e4.</p>"},{"location":"services/serve/","title":"3.2 Ray Serve \u2015 \ubaa8\ub378\u00b7API \uc11c\ube59\uc6a9 \ud504\ub808\uc784\uc6cc\ud06c","text":"<p>Ray Serve\ub294 \uba38\uc2e0\ub7ec\ub2dd \ubaa8\ub378\uc774\ub098 \uc6f9 API\ub97c \ud6a8\uc728\uc801\uc774\uace0 \uc720\uc5f0\ud558\uac8c \uc11c\ube59\ud560 \uc218 \uc788\ub3c4\ub85d \uc124\uacc4\ub41c Ray \uae30\ubc18 \ud504\ub808\uc784\uc6cc\ud06c\uc785\ub2c8\ub2e4. \ubd84\uc0b0 \ud658\uacbd\uc5d0\uc11c\ub3c4 \uc790\ub3d9 \ud655\uc7a5\uacfc \uace0\uac00\uc6a9\uc131\uc744 \uac16\ucd98 \uc11c\ube59 \uc2dc\uc2a4\ud15c\uc744 \uad6c\ucd95\ud560 \uc218 \uc788\uc73c\uba70, Python \ud568\uc218\ub098 FastAPI, Starlette \ub4f1\uacfc \uc27d\uac8c \ud1b5\ud569\ub429\ub2c8\ub2e4.</p>"},{"location":"services/serve/#_1","title":"\uac1c\uc694","text":"<p>\uae30\uc874\uc5d0\ub294 \ubaa8\ub378\uc744 \ubc30\ud3ec\ud560 \ub54c Flask \uc11c\ubc84\ub098 FastAPI \uc11c\ubc84\ub97c \ub530\ub85c \ub744\uc6b0\uace0, \uc778\ud504\ub77c \uc2a4\ucf00\uc77c\ub9c1\ub3c4 \uc218\ub3d9\uc73c\ub85c \ucc98\ub9ac\ud574\uc57c \ud588\uc2b5\ub2c8\ub2e4. Ray Serve\ub294 \uc774\ub7ec\ud55c \uacfc\uc815\uc744 \ub2e8\uc21c\ud654\ud558\uba70 \ub2e4\uc74c\uacfc \uac19\uc740 \ud2b9\uc9d5\uc744 \uac00\uc9d1\ub2c8\ub2e4:</p> <ul> <li>\ubd84\uc0b0 \uc11c\ube59 \uc9c0\uc6d0: \uc5ec\ub7ec \ub178\ub4dc\uc5d0 \uac78\uccd0 \ubaa8\ub378\uc744 \ubc30\ud3ec\ud558\uace0 \ubd80\ud558\ub97c \ubd84\uc0b0</li> <li>\uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1: \uc694\uccad\ub7c9\uc5d0 \ub530\ub77c \uc6cc\ucee4 \uc218 \uc790\ub3d9 \uc870\uc808</li> <li>\uc720\uc5f0\ud55c API \uc815\uc758: Python \ud568\uc218, \ud074\ub798\uc2a4, FastAPI\uc640 \uc790\uc5f0\uc2a4\ub7fd\uac8c \ud1b5\ud569</li> <li>\uc11c\ube59 \uadf8\ub798\ud504 \uad6c\uc131 \uac00\ub2a5: A/B \ud14c\uc2a4\ud2b8, \ud2b8\ub798\ud53d \ubd84\ud560, DAG \uad6c\uc131 \ub4f1\uc744 \ud1b5\ud574 \ubcf5\uc7a1\ud55c \uc11c\ube59 \uc804\ub7b5 \uad6c\ud604</li> </ul>"},{"location":"services/serve/#_2","title":"\uc8fc\uc694 \uae30\ub2a5","text":"<ul> <li>Deployment: \uc11c\ube59 \ub2e8\uc704\ub85c \uac01 \ubaa8\ub378/\uc5d4\ub4dc\ud3ec\uc778\ud2b8\ub97c \ubc30\ud3ec</li> <li>Handle: \ub0b4\ubd80 \ud639\uc740 \uc678\ubd80\uc5d0\uc11c \ud574\ub2f9 Deployment\ub85c \uc694\uccad\uc744 \uc804\ub2ec\ud558\ub294 \uac1d\uccb4</li> <li>Ingress: FastAPI\uc640 \uac19\uc740 \uc6f9 \ud504\ub808\uc784\uc6cc\ud06c\uc640 \ud1b5\ud569\ud574 HTTP \uc694\uccad\uc744 \ubc1b\uc744 \uc218 \uc788\ub3c4\ub85d \ud568</li> <li>Configurable Replica: \uac01 Deployment\ub294 \ubcf5\uc218\uc758 Replica\ub85c \uad6c\uc131 \uac00\ub2a5\ud558\uba70, \uc124\uc815\uc744 \ud1b5\ud574 \ub9ac\uc18c\uc2a4 \uc870\uc808 \uac00\ub2a5</li> </ul>"},{"location":"services/serve/#_3","title":"\uae30\ubcf8 \uc0ac\uc6a9\ubc95","text":"<pre><code>import ray\nfrom ray import serve\n\nray.init()\nserve.start()\n\n@serve.deployment\n@serve.ingress\nclass MyModel:\n    def __init__(self):\n        self.model = load_model()\n\n    async def __call__(self, request):\n        data = await request.json()\n        result = self.model.predict(data[\"input\"])\n        return {\"result\": result}\n\nMyModel.deploy()\n</code></pre> <p>\uc704 \uc608\uc2dc\ub294 HTTP \uc694\uccad\uc744 \ubc1b\uc544 \ubaa8\ub378 \uc608\uce21 \uacb0\uacfc\ub97c \ubc18\ud658\ud558\ub294 \uac04\ub2e8\ud55c \uc608\uc785\ub2c8\ub2e4. FastAPI\ub97c \uc9c1\uc811 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0\ub3c4 RESTful API\ub97c \uad6c\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"services/serve/#_4","title":"\uace0\uae09 \uc124\uc815","text":"<p>Ray Serve\ub294 \ub2e4\uc591\ud55c \uace0\uae09 \uae30\ub2a5\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4:</p> <ul> <li> <p>\uc11c\ube59 \uadf8\ub798\ud504 \uad6c\uc131 (DAG):   \uc5ec\ub7ec Deployment\ub97c \uc870\ud569\ud558\uc5ec DAG \ud615\ud0dc\ub85c \uc694\uccad \ud750\ub984\uc744 \uad6c\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> </li> <li> <p>\ud2b8\ub798\ud53d \ubd84\ud560:   \uac19\uc740 \uc5d4\ub4dc\ud3ec\uc778\ud2b8\uc5d0 \ub300\ud574 \uc5ec\ub7ec \ubc84\uc804\uc758 \ubaa8\ub378\uc744 \ubc30\ud3ec\ud558\uace0 \ud2b8\ub798\ud53d\uc744 \ube44\uc728\ub85c \ub098\ub204\ub294 \uc124\uc815\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.</p> </li> <li> <p>\ub9ac\uc18c\uc2a4 \uc81c\uc5b4:   \uac01 Deployment\uc5d0 \ub300\ud574 <code>num_replicas</code>, <code>num_cpus</code>, <code>autoscaling_config</code> \ub4f1\uc744 \uc124\uc815\ud558\uc5ec \uc138\ubc00\ud558\uac8c \uc790\uc6d0 \uc870\uc808 \uac00\ub2a5</p> </li> </ul> <pre><code>@serve.deployment(num_replicas=2, ray_actor_options={\"num_cpus\": 1})\nclass BatchingModel:\n    ...\n</code></pre> <p>Ray Serve\ub294 \ub2e8\uc21c\ud55c \ubaa8\ub378 API \uc11c\ube59\uc744 \ub118\uc5b4, \uc11c\ube44\uc2a4 \ucef4\ud3ec\uc9c0\uc158, \uace0\uac00\uc6a9\uc131 \uc124\uacc4, \uba40\ud2f0\ubaa8\ub378 \ud2b8\ub798\ud53d \uc81c\uc5b4\uae4c\uc9c0 \uc9c0\uc6d0\ud558\ub294 \uac15\ub825\ud55c \ud504\ub808\uc784\uc6cc\ud06c\uc785\ub2c8\ub2e4. \ub2e4\uc74c \uc139\uc158\uc5d0\uc11c\ub294 Ray Job\uc744 \ud1b5\ud574 \uc5b4\ub5bb\uac8c \uc2e4\ud5d8\uc131 \uc6cc\ud06c\ub85c\ub4dc\ub97c \uc81c\ucd9c\ud560 \uc218 \uc788\ub294\uc9c0 \uc54c\uc544\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p>"},{"location":"services/workflow-data/","title":"3.4 Ray Workflow / Ray Data","text":"<p>Ray Workflow\uc640 Ray Data\ub294 Ray\ub97c \ud65c\uc6a9\ud55c \ub370\uc774\ud130 \uc911\uc2ec \ud30c\uc774\ud504\ub77c\uc778\uacfc \uc6cc\ud06c\ud50c\ub85c\uc6b0 \uad00\ub9ac\ub97c \uc704\ud55c \ud575\uc2ec \uad6c\uc131 \uc694\uc18c\uc785\ub2c8\ub2e4. \uc774 \uc7a5\uc5d0\uc11c\ub294 \ub450 \uae30\ub2a5\uc758 \uac1c\ub150\uacfc \uc0ac\uc6a9 \uc0ac\ub840\ub97c \uc18c\uac1c\ud558\uace0, \uc2e4\uc81c\ub85c \uc5b4\ub5bb\uac8c \uc5f0\ub3d9\ud558\uc5ec \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294\uc9c0\ub3c4 \uc124\uba85\ud569\ub2c8\ub2e4.</p>"},{"location":"services/workflow-data/#ray-workflow","title":"Ray Workflow","text":"<p>Ray Workflow\ub294 \ubcf5\uc7a1\ud55c \ub370\uc774\ud130 \ucc98\ub9ac\ub098 \ubaa8\ub378 \ud30c\uc774\ud504\ub77c\uc778\uc744 \uc2e0\ub8b0\uc131 \uc788\uac8c \uad00\ub9ac\ud560 \uc218 \uc788\ub3c4\ub85d \ub3d5\ub294 \uc6cc\ud06c\ud50c\ub85c\uc6b0 \uad00\ub9ac \ud504\ub808\uc784\uc6cc\ud06c\uc785\ub2c8\ub2e4.</p>"},{"location":"services/workflow-data/#_1","title":"\uac1c\uc694","text":"<ul> <li>\uc6cc\ud06c\ud50c\ub85c\uc6b0 \ub2e8\uacc4\ub97c \uc815\uc758\ud558\uace0 \uc2e4\ud589 \uc0c1\ud0dc\ub97c \uc790\ub3d9\uc73c\ub85c \ucd94\uc801</li> <li>\ub178\ub4dc \uc7a5\uc560 \ubc1c\uc0dd \uc2dc\uc5d0\ub3c4 \uc7ac\uc2dc\uc791 \ubc0f \uc0c1\ud0dc \ubcf5\uad6c \uac00\ub2a5</li> <li>\uc7a5\uae30 \uc2e4\ud589 \uc6cc\ud06c\ub85c\ub4dc, \uc7ac\ud604 \uac00\ub2a5\ud55c \uc2e4\ud5d8 \ud30c\uc774\ud504\ub77c\uc778\uc5d0 \uc801\ud569</li> </ul>"},{"location":"services/workflow-data/#_2","title":"\uc8fc\uc694 \uae30\ub2a5","text":"<ul> <li>@workflow.step \ub370\ucf54\ub808\uc774\ud130\ub97c \ud1b5\ud574 \uac01 \ub2e8\uacc4\ub97c \uc815\uc758</li> <li>\uc0c1\ud0dc\ub294 \uc790\ub3d9\uc73c\ub85c \uc800\uc7a5\ub418\uba70, \uc911\ub2e8 \uc2dc resume \uac00\ub2a5</li> <li>DAG(Directed Acyclic Graph) \ud615\ud0dc\uc758 \uc885\uc18d \uad00\uacc4 \uc815\uc758 \uac00\ub2a5</li> <li>\uacb0\uacfc\ub294 object ref \ub610\ub294 \uc800\uc7a5\uc18c \uacbd\ub85c\ub97c \ud1b5\ud574 \uc811\uadfc \uac00\ub2a5</li> </ul> <pre><code>from ray import workflow\n\n@workflow.step\ndef preprocess(data):\n    return [x * 2 for x in data]\n\n@workflow.step\ndef train(data):\n    return sum(data)\n\noutput = train.step(preprocess.step([1, 2, 3])).run()\n</code></pre>"},{"location":"services/workflow-data/#ray-data","title":"Ray Data","text":"<p>Ray Data\ub294 \ub300\uaddc\ubaa8 \ub370\uc774\ud130\ub97c \ubcd1\ub82c\ub85c \ucc98\ub9ac\ud558\uae30 \uc704\ud55c \ubd84\uc0b0 \ub370\uc774\ud130\uc14b \ud504\ub808\uc784\uc6cc\ud06c\uc785\ub2c8\ub2e4. Spark\uc640 \uc720\uc0ac\ud558\uc9c0\ub9cc, Ray\uc758 Task \ubc0f Actor \uae30\ubc18 \uc544\ud0a4\ud14d\ucc98\uc640 \uc790\uc5f0\uc2a4\ub7fd\uac8c \ud1b5\ud569\ub429\ub2c8\ub2e4.</p>"},{"location":"services/workflow-data/#_3","title":"\uac1c\uc694","text":"<ul> <li>\ub300\uc6a9\ub7c9 \ud30c\uc77c\uc744 \ubcd1\ub82c\ub85c \uc77d\uace0 \uc804\ucc98\ub9ac</li> <li>\ubaa8\ub378 \ud559\uc2b5, \uc11c\ube59\uc744 \uc704\ud55c batch \ucc98\ub9ac \ucd5c\uc801\ud654</li> <li>Pandas, NumPy, Arrow \ub4f1\uacfc \uc5f0\ub3d9</li> </ul>"},{"location":"services/workflow-data/#_4","title":"\uc8fc\uc694 \uae30\ub2a5","text":"<ul> <li>read_csv, from_items \ub4f1 \ub2e4\uc591\ud55c \uc785\ub825 \uc18c\uc2a4 \uc9c0\uc6d0</li> <li>map, filter, groupby, split \ub4f1\uc758 \uc5f0\uc0b0 \uc81c\uacf5</li> <li>Dataset \u2192 IterableDataset \ubcc0\ud658\uc744 \ud1b5\ud574 streaming \ubc29\uc2dd\ub3c4 \uc9c0\uc6d0</li> </ul> <pre><code>import ray\nimport ray.data\n\nray.init()\n\nds = ray.data.read_csv(\"data.csv\")\nds = ds.map(lambda row: {\"value\": row[\"value\"] * 10})\nds.show()\n</code></pre>"},{"location":"services/workflow-data/#_5","title":"\uc5f0\ub3d9 \uc2dc\ub098\ub9ac\uc624","text":"<p>Ray Workflow\uc640 Ray Data\ub294 \ud568\uaed8 \uc0ac\uc6a9\ud560 \ub54c \uc7ac\ud604 \uac00\ub2a5\ud55c \ub370\uc774\ud130 \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95\uc5d0 \ub9e4\uc6b0 \uc720\uc6a9\ud569\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4 \ub2e4\uc74c\uacfc \uac19\uc740 \uc2dc\ub098\ub9ac\uc624\ub97c \uad6c\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ol> <li>Ray Data\ub85c \ub300\ub7c9\uc758 \ub370\uc774\ud130\ub97c \uc77d\uace0 \uc804\ucc98\ub9ac</li> <li>\uc804\ucc98\ub9ac\ub41c \ub370\uc774\ud130\ub97c Ray Workflow\uc758 \ub2e8\uacc4\ub85c \ub118\uaca8 \ubaa8\ub378 \ud559\uc2b5</li> <li>\uc911\uac04 \uacb0\uacfc\ub97c \uc800\uc7a5\ud558\uac70\ub098 \ub85c\uadf8\ub85c \uae30\ub85d\ud558\uba70 \uc804\uccb4 \ud750\ub984\uc744 \uad00\ub9ac</li> <li>\uc7a5\uc560 \ubc1c\uc0dd \uc2dc \ud2b9\uc815 \ub2e8\uacc4\ubd80\ud130 \ubcf5\uad6c\ud558\uc5ec \uc7ac\uc2e4\ud589</li> </ol> <p>Ray Workflow\uc640 Ray Data\ub294 Ray\uc758 \ubd84\uc0b0 \uc544\ud0a4\ud14d\ucc98 \uc704\uc5d0\uc11c \uc548\uc815\uc801\uc778 \ub370\uc774\ud130 \uae30\ubc18 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uad6c\ucd95\ud560 \uc218 \uc788\uac8c \ud574\uc90d\ub2c8\ub2e4. \ubcf5\uc7a1\ud55c \ud30c\uc774\ud504\ub77c\uc778\uc744 \uac04\uacb0\ud558\uac8c \uad00\ub9ac\ud558\uace0, \ub300\uaddc\ubaa8 \ub370\uc774\ud130\ub97c \ud6a8\uc728\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\uace0 \uc2f6\ub2e4\uba74 \uc774 \ub450 \uad6c\uc131 \uc694\uc18c\ub97c \uc801\uadf9 \ud65c\uc6a9\ud574\ubcf4\uc138\uc694.</p>"}]}